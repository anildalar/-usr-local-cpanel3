"use strict";(self.webpackChunkteam_manager=self.webpackChunkteam_manager||[]).push([[179],{4624:(S,G,d)=>{var D=d(1481),e=d(4650),he=d(529),l=d(4006),fe=d(1516),H=d(1620),Ce=d(348),r=d(8517),be=d(6962),A=d(4349),y=d(5241),N=d(7971),h=d(9245),f=d(4793),u=d(269),x=d(5698),P=d(8746),O=d(5965),_=d(7709),b=d(4004);const z=new e.OlP("userName"),Oe=new e.OlP("base"),V=new e.OlP("emailApp"),$=new e.OlP("ftpApp"),j=new e.OlP("webDiskApp"),W=new e.OlP("userManagerApp"),K=new e.OlP("deprefix"),X=new e.OlP("maxTeamUsers"),U=new e.OlP("teamOwnerDomain"),ee=new e.OlP("maxEmailQuota"),te=new e.OlP("defaultEmailQuota"),ne=new e.OlP("isEmailServiceAvailable"),I=new e.OlP("ftpDaemonInfo"),ie=new e.OlP("isWebdiskServiceAvailable");var k=d(755),oe=d(3357);let Z=(()=>{class i{constructor(t){this.locale=t,this.pagination={pageSize:20,selectedPage:1,disabled:!1,totalRecords:0,recordsBeforeFilter:0},this.sorts=[],this.pageSizes=[20,50,100],this._loading=!1}get loading(){return this._loading}set loading(t){this._loading=t}changeSort(t){const n=this.sorts?.find(o=>o.column===t);n&&(n.direction=this.changeSortDirection(n.direction)),this.setSort(t,n?.direction||k.Sr.Ascending)}setSort(t,n){this.sorts=[new k.PE(t,n)]}getTableMetadata(){return{pager:{page:this.pagination.selectedPage,pageSize:this.pagination.pageSize},filters:this.filters,sorts:this.sorts}}updateSearchFilter(t,n){this.filters=[new oe.w(t,oe.p.Contains,n)],this.pagination.selectedPage=1}getSortColumn(){return this.sorts[0]?.column}sortedInAscendingOrder(){return this.sorts[0]?.direction===k.Sr.Ascending}updatePageSize(t){this.pagination.pageSize=t}changePage(t){this.pagination.selectedPage=t}noResultsReason(t){return t?null:this.locale.maketext(this.pagination.recordsBeforeFilter?"No results available.":"No results match your query.")}changeSortDirection(t){return t===k.Sr.Ascending?k.Sr.Descending:k.Sr.Ascending}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.g))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Y=(()=>{class i{convertToUTC(t){const n=new Date(t);return n.setHours(23,59,59,0),n.getTime()/1e3}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const v="Team";let M=(()=>{class i{constructor(t,n,o,s){this.http=t,this.currentUser=n,this.tableService=o,this.dateService=s}getTeam(t){const n=new O.j({namespace:v,method:"list_team_ui",arguments:[new _.h("username",this.currentUser)],...t});return this.http.get(n).pipe((0,b.U)(o=>{if(1===o.status)return o;throw o.errors.pop()}))}createUser(t){const n=new O.j({namespace:v,method:"add_team_user",arguments:[new _.h("user",t.username),new _.h("email1",t.contactEmail),new _.h("notes",t.notes),this.getArgumentBasedOnPasswordOption(t.passwordOptions,t.password),new _.h("roles",t.roles),...this.getExpireArguments(t.expireDate,t.expireReason),...this.getServicesArguments(t)]});return this.http.get(n).pipe((0,b.U)(o=>{if(1===o.status)return o;{const s=o.errors.pop();throw o.data&&(s.data=o.data),s}}))}editUser(t){let n=[];n=t.roles.length?[...t.roles.map((s,c)=>new _.h(`set_role-${c+1}`,s))]:[new _.h("set_role-1","")];const o=new O.j({namespace:v,method:"edit_team_user",arguments:[new _.h("user",t.username),new _.h("email1",t.contactEmail),new _.h("notes",t.notes),new _.h("password",t.password),...n,...this.getExpireArguments(t.expireDate,t.expireReason),...this.getServicesArguments(t)]});return this.http.get(o).pipe((0,b.U)(s=>{if(1===s.status)return s;{const c=s.errors.pop();throw s.data&&(c.data=s.data),c}}))}deleteUser(t){const n=new O.j({namespace:v,method:"remove_team_user",arguments:[new _.h("user",t)]});return this.http.get(n).pipe((0,b.U)(o=>{if(1===o.status)return o;throw o.errors.pop()}))}getTeamUsersCount(){const t=new O.j({namespace:v,method:"get_team_users_with_roles_count",arguments:[new _.h("username",this.currentUser)]});return this.http.get(t).pipe((0,b.U)(n=>{if(1===n.status)return n;throw n.errors.pop()}))}getAuditLog(t,n=this.currentUser){const o=new O.j({namespace:"AuditLog",method:"get_api_log",arguments:[new _.h("user",n)],...t});return this.http.get(o).pipe((0,b.U)(s=>{if(this.tableService.pagination.totalRecords=s.meta.totalRecords,this.tableService.pagination.recordsBeforeFilter=s.meta.recordsBeforeFilter,1===s.status)return s;throw s.errors.pop()}))}suspendUser(t){const n=new O.j({namespace:v,method:"suspend_team_user",arguments:[new _.h("user",t),new _.h("reason","")]});return this.http.get(n).pipe((0,b.U)(o=>{if(1===o.status)return o;throw o.errors.pop()}))}reinstateUser(t){const n=new O.j({namespace:v,method:"reinstate_team_user",arguments:[new _.h("user",t)]});return this.http.get(n).pipe((0,b.U)(o=>{if(1===o.status)return o;throw o.errors.pop()}))}listRoles(t=this.currentUser){const n=new O.j({namespace:"TeamRoles",method:"list_feature_descriptions",arguments:[new _.h("username",t)]});return this.http.get(n).pipe((0,b.U)(o=>{if(1===o.status)return o;throw o.errors.pop()}))}cancelExpire(t){const n=new O.j({namespace:v,method:"cancel_expire",arguments:[new _.h("user",t)]});return this.http.get(n).pipe((0,b.U)(o=>{if(1===o.status)return o;throw o.errors.pop()}))}passwordReset(t){const n=new O.j({namespace:v,method:"password_reset_request",arguments:[new _.h("user",t)]});return this.http.get(n).pipe((0,b.U)(o=>{if(1===o.status)return o;throw o.errors.pop()}))}getArgumentBasedOnPasswordOption(t,n){return new _.h("set"===t?"password":"activation_email","set"!==t||n)}getExpireArguments(t,n){return t?[new _.h("expire_date",this.dateService.convertToUTC(t)),new _.h("expire_reason",n)]:[]}getServicesArguments(t){const n=Boolean(t.email?.hasOwnProperty("options")),o=Boolean(t.webdisk?.hasOwnProperty("options")),s=Boolean(t.ftp?.hasOwnProperty("options"));return[new _.x("services.email.enabled",n),n&&new _.h("services.email.quota",t.email?.quota||""),new _.x("services.ftp.enabled",s),s&&new _.h("services.ftp.homedir",t.ftp?.homedir||""),s&&new _.h("services.ftp.quota",t.ftp?.quota||""),new _.x("services.webdisk.enabled",o),o&&new _.h("services.webdisk.perms","readwrite"===t.webdisk?.options?"rw":"ro"),o&&new _.h("services.webdisk.homedir",t.webdisk?.homedir||""),o&&new _.x("services.webdisk.enabledigest",t.webdisk?.enableDigest),o&&new _.x("services.webdisk.private",!1)].filter(Boolean)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(H.Tr),e.LFG(z),e.LFG(Z),e.LFG(Y))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var p=d(6895);function we(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ul",5)(1,"li",6)(2,"div")(3,"cp-page-size-selector",7),e.NdJ("optionSelected",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.pageSizeChanged.emit(o))}),e.qZA()()(),e._UZ(4,"li",8),e.TgZ(5,"li",6)(6,"a",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.refreshClicked.emit())}),e._UZ(7,"i",10),e._uU(8),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("pageSizeOptions",t.pageSizes)("selectedPageSize",null==t.tableService?null:t.tableService.pagination.pageSize),e.xp6(5),e.hij(" ",t.locale.maketext("Refresh")," ")}}let ve=(()=>{class i{constructor(t,n){this.tableService=t,this.locale=n,this.pageSizes=[20,50,100,500],this.pageSizeChanged=new e.vpe,this.refreshClicked=new e.vpe}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(u.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-page-size-selector-dropdown"]],inputs:{pageSizes:"pageSizes"},outputs:{pageSizeChanged:"pageSizeChanged",refreshClicked:"refreshClicked"},decls:5,vars:1,consts:[["dropdown","","auto-close","outsideClick",1,"btn-group"],["id","table-settings-dropdown","type","button","dropdownToggle","",1,"btn","btn-default","btn-sm","dropdown-toggle","button-bar"],[1,"fas","fa-cog"],[1,"caret"],["id","table-settings-menu","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","table-settings-dropdown",4,"dropdownMenu"],["id","table-settings-menu","role","menu","aria-labelledby","table-settings-dropdown",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["id","page-size-selector",3,"pageSizeOptions","selectedPageSize","optionSelected"],[1,"divider"],["id","page-size-selector__refresh",3,"click"],[1,"fas","fa-sync-alt"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._UZ(2,"i",2)(3,"span",3),e.qZA(),e.YNc(4,we,9,3,"ul",4),e.qZA()),2&t&&(e.xp6(1),e.uIk("aria-label",n.locale.maketext("Table Settings")))},dependencies:[h.Hz,h.Mq,h.TO,r.k6],encapsulation:2}),i})();function Me(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"cp-pagination",16),e.NdJ("pageChanged",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changePage(o))}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("totalItems",t.tableService.pagination.totalRecords)("pageSize",t.tableService.pagination.pageSize)("maxPagesVisible",5)("disabled",t.isFetchingAuditLog)}}function Pe(i,a){if(1&i&&e._UZ(0,"i",23),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.ekj("icon-arrow-up",n.tableService.sortedInAscendingOrder())("icon-arrow-down",!n.tableService.sortedInAscendingOrder()),e.uIk("title",t.label)}}function Te(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.sort(o.key))}),e.TgZ(1,"span",21),e._uU(2),e.qZA(),e.YNc(3,Pe,1,5,"i",22),e.qZA()}if(2&i){const t=e.oxw(),n=t.index,o=t.$implicit,s=e.oxw();e.hYB("id","column-button__",n,"-",o.key,""),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("ngIf",o.key===s.tableService.getSortColumn())}}function ke(i,a){if(1&i&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.label)}}const Se=function(i){return{width:i}};function Ae(i,a){if(1&i&&(e.TgZ(0,"th",17),e.YNc(1,Te,4,4,"button",18),e.YNc(2,ke,2,1,"span",19),e.qZA()),2&i){const t=a.$implicit,n=e.oxw();e.Q6J("ngStyle",e.VKq(4,Se,100/n.columns.length+"%"))("ngClass",t.classes),e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.Q6J("ngIf",!t.sortable)}}function ye(i,a){if(1&i&&(e.TgZ(0,"tr",24)(1,"td"),e._UZ(2,"span",25),e._uU(3," \xa0 "),e.TgZ(4,"span",26),e._uU(5),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.uIk("colspan",t.emptyRowColSpan),e.xp6(4),e.Oqu(t.locale.maketext("Loading \u2026"))}}function Ue(i,a){if(1&i&&(e.TgZ(0,"tr",27)(1,"td"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.uIk("colspan",t.emptyRowColSpan),e.xp6(1),e.Oqu(t.noResultsMessage)}}function Ze(i,a){if(1&i&&(e.TgZ(0,"td",30),e._uU(1),e.qZA()),2&i){const t=a.$implicit,n=e.oxw(2),o=n.index,s=n.$implicit;e.Q6J("ngClass",t.classes),e.uIk("data-test","audit-log-data__"+t.key+"-"+o),e.xp6(1),e.hij(" ",s[t.key]||"-"," ")}}function Fe(i,a){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Ze,2,3,"td",29),e.qZA()),2&i){const t=e.oxw().index,n=e.oxw();e.uIk("data-test","audit-log-row__"+t),e.xp6(1),e.Q6J("ngForOf",n.columns)("ngForTrackBy",n.trackByFn)}}function Je(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Fe,2,3,"tr",28),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.columnKeyExists(t))}}let qe=(()=>{class i{constructor(t,n,o,s){this.teamManagerApiService=t,this.locale=n,this.tableService=o,this.alertService=s,this.isFetchingAuditLog=!0,this.columns=this.getListTeamTableHeaders()}ngOnInit(){this.fetchAuditLog(),this.emptyRowColSpan=this.columns.length+1}trackByFn(t){return t}searchAuditLog(t){this.tableService.updateSearchFilter("called_by",t),this.fetchAuditLog()}columnKeyExists(t){return this.columns.some(n=>Object.keys(t).includes(n.key))}fetchAuditLog(){this.rows=[],this.tableService.loading=!0,this.teamManagerApiService.getAuditLog(this.tableService.getTableMetadata()).pipe((0,x.q)(1),(0,P.x)(()=>{this.isFetchingAuditLog=!1,this.tableService.loading=!1,this.noResultsMessage=this.tableService.noResultsReason(this.rows.length)})).subscribe(t=>{this.rows=t.data},t=>{this.alertService.error(t.message)})}getListTeamTableHeaders(){return[{key:"date_timestamp",label:this.locale.maketext("Timestamp"),sortable:!0},{key:"called_by",label:this.locale.maketext("Called By"),sortable:!0},{key:"api_version",label:this.locale.maketext("API Version"),sortable:!0,classes:"hidden-xs hidden-sm hidden-md"},{key:"call",label:this.locale.maketext("Call"),sortable:!0},{key:"origin",label:this.locale.maketext("Origin"),sortable:!0,classes:"hidden-xs hidden-sm hidden-md"}]}sort(t){this.tableService.changeSort(t),this.fetchAuditLog()}pageSizeChanged(t){this.tableService.updatePageSize(t),this.fetchAuditLog()}changePage(t){t.page!==this.tableService.pagination.selectedPage&&(this.tableService.changePage(t.page),this.fetchAuditLog())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(M),e.Y36(u.g),e.Y36(Z),e.Y36(r.c9))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-audit-log"]],decls:19,vars:12,consts:[[1,"row","audit-log__description"],[1,"col-sm-8","col-md-9",3,"innerHTML"],[1,"section"],[1,"row","search-page-container"],[1,"col-xs-12","col-md-6","pull-left","text-left"],["id","searchAccountsInput",3,"label","valueChange"],["searchAccountsInput",""],[1,"col-xs-12","col-md-6","pull-right","text-right"],["id","audit-log--pagination","name","auditLogPagination",3,"totalItems","pageSize","maxPagesVisible","disabled","pageChanged",4,"ngIf"],[1,"pull-right","flip","create-page-size-selector-wrapper"],["id","page-size-selector-dropdown",3,"pageSizeChanged","refreshClicked"],[1,"ui","table"],[3,"ngStyle","ngClass",4,"ngFor","ngForOf"],["class","info empty-row","id","loadingRow",4,"ngIf"],["class","info empty-row","id","emptySearchRow",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["id","audit-log--pagination","name","auditLogPagination",3,"totalItems","pageSize","maxPagesVisible","disabled","pageChanged"],[3,"ngStyle","ngClass"],["class","column-button btn btn-link p-0",3,"id","click",4,"ngIf"],["class","column-label separator",4,"ngIf"],[1,"column-button","btn","btn-link","p-0",3,"id","click"],[1,"column-label","separator"],["ngClass","column-icon",3,"icon-arrow-up","icon-arrow-down",4,"ngIf"],["ngClass","column-icon"],["id","loadingRow",1,"info","empty-row"],[1,"fas","fa-spinner","fa-spin"],[1,"loading-text"],["id","emptySearchRow",1,"info","empty-row"],[4,"ngIf"],["class","td",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"td",3,"ngClass"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"cp-search",5,6),e.NdJ("valueChange",function(s){return n.searchAuditLog(s)}),e.qZA()(),e.TgZ(7,"div",7),e.YNc(8,Me,1,4,"cp-pagination",8),e.qZA()()(),e.TgZ(9,"div",9)(10,"cp-team-manager-page-size-selector-dropdown",10),e.NdJ("pageSizeChanged",function(s){return n.pageSizeChanged(s)})("refreshClicked",function(){return n.fetchAuditLog()}),e.qZA()(),e.TgZ(11,"table",11)(12,"thead")(13,"tr"),e.YNc(14,Ae,3,6,"th",12),e.qZA()(),e.TgZ(15,"tbody"),e.YNc(16,ye,6,2,"tr",13),e.YNc(17,Ue,3,2,"tr",14),e.YNc(18,Je,2,1,"ng-container",15),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("innerHTML",n.locale.maketext("View the Audit Log of your team."),e.oJD),e.xp6(4),e.s9C("label",n.locale.maketext("Search for an account by username or domain.")),e.xp6(3),e.Q6J("ngIf",0!==n.tableService.pagination.totalRecords),e.xp6(3),e.ekj("table-striped",!0)("unstackable",!0),e.xp6(3),e.Q6J("ngForOf",n.columns),e.xp6(2),e.Q6J("ngIf",n.tableService.loading),e.xp6(1),e.Q6J("ngIf",n.noResultsMessage),e.xp6(1),e.Q6J("ngForOf",n.rows)("ngForTrackBy",n.trackByFn))},dependencies:[p.mk,p.sg,p.O5,p.PC,r.gS,r.Qt,ve],styles:[".table[_ngcontent-%COMP%]{border-collapse:separate}.column-button[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;padding:0}.column-button[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%]{text-decoration:underline}.column-button[_ngcontent-%COMP%]:focus{outline:none}.column-label[_ngcontent-%COMP%]{display:inline-block}html[dir=ltr][_ngcontent-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .column-label[_ngcontent-%COMP%]{margin-right:var(--cp-spacer-2)}html[dir=rtl][_ngcontent-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .column-label[_ngcontent-%COMP%]{margin-left:var(--cp-spacer-2)}thead[_ngcontent-%COMP%]{position:sticky;top:0;background:var(--cp-component-bg, #fff)}thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-2);background:var(--cp-component-bg, #fff);background-clip:content-box}.create-page-size-selector-wrapper[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-3)}.search-page-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){margin-top:20px}"]}),i})();var g=d(2502);let T=(()=>{class i{constructor(t,n,o){this.locale=t,this.dateService=n,this.teamOwnerDomain=o}processRoles(t){return t.sort((n,o)=>n.title.localeCompare(o.title)),t.forEach(n=>n.features.sort((o,s)=>o.localeCompare(s))),t.filter(n=>"default"!==n.id)}mapTeamUserData(t){for(const c in t)t[c]&&(t["api__"+c]=t[c],delete t[c]);const n=this.mapBasicInfo(t),o=this.mapDetailsInfo(n),s=this.getBadgeText(o.suspended,o.expired);return{...n,...o,badgeText:s}}mapErrorIfDateExists(t){if(t.data){const n=this.getLocaleDateTime(t.data);return`${t.message} \u201c${n}\u201d`}return t.message}getTeamUserApiServices(t){return JSON.parse(localStorage.getItem("teamData")).find(c=>c.username===t).apiServices}getExpireSuccessMessage(t,n,o=!1){let s="";if(n){const c=this.dateService.convertToUTC(n);s=this.locale.maketext("\u201c[_1]\u201d account is set to expire on [local_datetime,_2,datetime_format_short][comment,this is needed to convert the date to a localized format].",t,Number(c)),o&&(s+=" ",s+=this.locale.maketext("The team user will be notified via email on expiry."))}return s}mapBasicInfo(t){return{contactEmail:t.api__contact_email,created:this.getLocaleDateTime(t.api__created),lastLoginDate:this.getLocaleDateTime(t.api__lastlogin),notes:t.api__notes,roles:t.api__roles?.join(", "),services:this.formatServices(t.api__services),apiServices:t.api__services,suspendDate:this.getLocaleDateTime(t.api__suspend_date),suspendReason:t.api__suspend_reason,expireDate:this.getLocaleDateTime(t.api__expire_date),expireDateDisplay:this.getLocaleDate(t.api__expire_date),expireReason:t.api__expire_reason,username:t.api__username}}mapDetailsInfo(t){return{contactEmailDetails:`${this.locale.maketext("Contact Email")}: ${t.contactEmail}`,createdDetails:`${this.locale.maketext("Account Created")}: ${t.created}`,lastLoginDateDetails:`${this.locale.maketext("Last Login Date")}: ${t.lastLoginDate||"-"}`,notesDetails:`${this.locale.maketext("Notes")}: ${t.notes||"-"}`,rolesDetails:`${this.locale.maketext("Roles")}: ${t.roles||"-"}`,servicesDetails:`${this.locale.maketext("Services")}: ${t.services||"-"}`,suspendDateDetails:`${this.locale.maketext("Suspended Since")}: ${t.suspendDate}`,suspendReasonDetails:`${this.locale.maketext("Suspended Reason")}: ${t.suspendReason||"-"}`,expireDateDetails:`${this.locale.maketext("Expire Date")}: ${t.expireDateDisplay}`,expireReasonDetails:`${this.locale.maketext("Expire Reason")}: ${t.expireReason||"-"}`,loginDetails:`${this.locale.maketext("Login Username")}: ${t.username}@${this.teamOwnerDomain}`,suspended:Boolean(t.suspendDate),expired:!!t.expireDate&&new Date(t.expireDate)<new Date}}getBadgeText(t,n){return t?this.locale.maketext("Suspended"):n&&!t?this.locale.maketext("Expired"):""}getLocaleDateTime(t){return t?this.locale.maketext("[local_datetime,_1,datetime_format_short][comment,this is needed to convert the date to a localized format]",Number(t)):null}getLocaleDate(t){return t?this.locale.maketext("[local_datetime,_1,date_format_short][comment,this is needed to convert the date to a localized format]",Number(t)):null}formatServices(t){const n={email:this.locale.maketext("Email"),ftp:this.locale.maketext("FTP"),webdisk:this.locale.maketext("Web Disk")},o=[];for(const s in t)t[s].enabled&&o.push(n[s]);return o.sort().join(", ")}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.g),e.LFG(Y),e.LFG(U))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var m=(()=>{return(i=m||(m={})).create="create",i.list="list",i.auditLog="auditlog",i.edit="edit",m;var i})(),B=d(7579);let F=(()=>{class i{constructor(){this.showAllHelp=!1}toggleShowAll(){this.showAllHelp=!this.showAllHelp}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ae=(()=>{class i{constructor(t,n,o,s){this.locale=t,this.renderer=n,this.showInfoBlocksService=o,this.teamOwnerDomain=s,this.showRoleFeatures=!1,this.formSubmit=new B.x,this.showSecuritySettings=!0,this.showAllHelp=!1,g.uZ.locale=this.locale,this.roleList=JSON.parse(localStorage.getItem("roleList")),this.roleInfoButtonText=this.getRoleInfoButtonText(!1)}ngAfterViewInit(){this.returnArrowDir=this.locale.isRtl?"fa-arrow-right":"fa-arrow-left"}ngOnDestroy(){localStorage.removeItem("teamData")}setShowFeaturesButtonPosition(t,n){this.renderer.appendChild(t.element,n.nativeElement),this.renderer.setStyle(n.nativeElement,this.locale.isRtl?"left":"right","0")}toggleAllInfoBlocks(){this.showInfoBlocksService.toggleShowAll()}toggleRoleFeatures(t,n){t.isOpen||t.open(),this.showRoleFeatures=!n,this.roleInfoButtonText=this.getRoleInfoButtonText(this.showRoleFeatures)}updateAcknowledgmentStatus(t,n=[]){JSON.stringify(n?.sort())!==JSON.stringify(t.get("roles").value.sort())?t.get("acknowledgment").enable():t.get("acknowledgment").disable()}setNotesValidators(t){t.get("notes").setValidators([g.dt.maxLength(this.locale.maketext("The notes must be at most [numf,_1] characters.",100),100)])}setContactEmailValidators(t){t.get("contactEmail").setValidators([g.dt.required(this.locale.maketext("You [output,strong,must] enter a valid email.")),g.Tt.validateEmail()])}setPasswordOptionsValidators(t){t.get("passwordOptions").setValidators(g.dt.required(this.locale.maketext("You [output,strong,must] select one option.")))}setAcknowledgmentValidators(t){t.get("acknowledgment").setValidators(g.dt.requiredTrue(this.locale.maketext("You must acknowledge the warning to proceed.")))}getRoleInfoButtonText(t){return this.locale.maketext(t?"Hide Features":"Show Features")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g),e.Y36(e.Qsj),e.Y36(F),e.Y36(U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,n){},styles:[".base-team-user__section-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:var(--cp-spacer-3);margin-top:var(--cp-spacer-4)}.base-team-user__section-title[_ngcontent-%COMP%]:first-of-type{margin-top:unset}.base-team-user__set-password-fieldset[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:var(--cp-spacer-2)}.fieldset-password__radio-label[_ngcontent-%COMP%]{font-weight:400}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{color:#b3bccf}html[dir=ltr][_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-left:var(--cp-spacer-1)}.base-team-user__description[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-3)}.base-team-user__form-container[_ngcontent-%COMP%]{padding:0}.roles__features-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,180px);padding:var(--cp-spacer-2) 0}.role-feature[_ngcontent-%COMP%]{padding:var(--cp-spacer-1) 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.roles__ng-select--custom[_ngcontent-%COMP%]{position:relative}.roles__show-info-button[_ngcontent-%COMP%]{position:absolute;top:-25px}html[dir=ltr][_ngcontent-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%]{left:0}.base-team-user__fieldset-legend[_ngcontent-%COMP%]{display:inline-block;font-size:unset;border:none;font-weight:600;margin:0 0 var(--cp-spacer-1)}.row-expand-container[_ngcontent-%COMP%]{display:inline}.base-team-user__panel-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.base-team-user__action-button[_ngcontent-%COMP%]{display:flex;align-items:center}.base-team-user__action-button-icon[_ngcontent-%COMP%]{align-self:normal}html[dir=ltr][_ngcontent-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%]{margin-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%]{margin-left:var(--cp-spacer-1)}.base-team-user__accordion-group-panel[_ngcontent-%COMP%]{margin-bottom:0}"]}),i})();const Ee=function(i){return[i]};function Qe(i,a){if(1&i&&(e.TgZ(0,"li")(1,"a",6),e._UZ(2,"i",7),e._uU(3),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("href",e.VKq(4,Ee,t.url),e.LSH)("id",t.id)("title",t.title),e.xp6(2),e.hij(" ",t.title," ")}}function De(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Qe,4,6,"li",5),e.BQk()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.condition)}}function Le(i,a){if(1&i&&(e.TgZ(0,"div",1)(1,"section",2)(2,"h3",3),e._uU(3),e.qZA(),e.TgZ(4,"ul"),e.YNc(5,De,2,1,"ng-container",4),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.hij(" ",t.locale.maketext("Related Interfaces")," "),e.xp6(2),e.Q6J("ngForOf",t.formattedFeatures)}}let se=(()=>{class i{constructor(t,n,o,s,c,C){this.locale=t,this.emailApp=n,this.ftpApp=o,this.webDiskApp=s,this.userManagerApp=c,this.deprefix=C,this.hasAtLeastOneFeature=this.hasOneOfTheFeatures({email:Boolean(this.emailApp),ftp:Boolean(this.ftpApp),webdisk:Boolean(this.webDiskApp),userManager:Boolean(this.userManagerApp)}),this.formattedFeatures=[{id:"emailAccounts",url:this.deprefix+this.emailApp.url,title:this.locale.maketext("Email Accounts"),condition:this.emailApp},{id:"ftpAccounts",url:this.deprefix+this.ftpApp.url,title:this.locale.maketext("FTP Accounts"),condition:this.ftpApp},{id:"webDisk",url:this.deprefix+this.webDiskApp.url,title:this.locale.maketext("Web Disk"),condition:this.webDiskApp},{id:"userManager",url:this.deprefix+this.userManagerApp.url,title:this.locale.maketext("User Manager"),condition:this.userManagerApp}]}hasOneOfTheFeatures(t){return t.email||t.ftp||t.webdisk||t.userManager}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g),e.Y36(V),e.Y36($),e.Y36(j),e.Y36(W),e.Y36(K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-team-user-related-interfaces"]],decls:1,vars:1,consts:[["class","section",4,"ngIf"],[1,"section"],[1,"widget"],[1,"widget-title"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href","id","title"],["aria-hidden","true",1,"fas","fa-fw","fa-external-link-alt"]],template:function(t,n){1&t&&e.YNc(0,Le,6,2,"div",0),2&t&&e.Q6J("ngIf",n.hasAtLeastOneFeature)},dependencies:[p.sg,p.O5],encapsulation:2}),i})(),re=(()=>{class i{constructor(t){this.locale=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-team-user-help-section"]],decls:9,vars:3,consts:[[1,"section"],[1,"widget"],[1,"widget-title"],["href","https://go.cpanel.net/manage-team","id","help-section__link","target","cpanel_documentation",3,"title"],["aria-hidden","true",1,"fas","fa-fw","fa-external-link-alt"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"section",1)(2,"h3",2),e._uU(3),e.qZA(),e.TgZ(4,"ul")(5,"li")(6,"a",3),e._UZ(7,"i",4),e._uU(8),e.qZA()()()()()),2&t&&(e.xp6(3),e.Oqu(n.locale.maketext("Need Help?")),e.xp6(3),e.s9C("title",n.locale.maketext("Need help? Click here to read more about this interface.")),e.xp6(2),e.hij(" ",n.locale.maketext("About This Interface")," "))},encapsulation:2}),i})();var L=(()=>{return(i=L||(L={})).input="input",i.textarea="textarea",L;var i})();function Ne(i,a){if(1&i&&e._UZ(0,"input",7),2&i){const t=e.oxw();e.Q6J("id",t.id)("formControlName",t.controlName)("name",t.controlName)}}function Ie(i,a){if(1&i&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.Q6J("title",t.inputAddon),e.xp6(1),e.Oqu(t.inputAddon)}}function Ye(i,a){if(1&i&&(e.TgZ(0,"textarea",9),e._uU(1,"        "),e.qZA()),2&i){const t=e.oxw();e.Q6J("id",t.id)("formControlName",t.controlName)("name",t.controlName)}}const Be=function(i){return{"input-group":i}};let le=(()=>{class i{constructor(t){this.showInfoBlockService=t,this.formFieldType=L}infoBlockStatus(){return this.formFieldComponent.infoBlockStatus()}setInfoBlockStatus(t){this.formFieldComponent.setInfoBlockStatus(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-team-user-form-field"]],viewQuery:function(t,n){if(1&t&&e.Gf(r.hg,5),2&t){let o;e.iGM(o=e.CRH())&&(n.formFieldComponent=o.first)}},inputs:{id:"id",element:"element",control:"control",controlName:"controlName",formGroup:"formGroup",labelText:"labelText",infoBlockText:"infoBlockText",inputAddon:"inputAddon"},decls:8,vars:13,consts:[[1,"form-group",3,"formGroup"],["idPrefix","team-user",3,"control","showAllHelp","labelText","labelFor","showInfoToggle"],["field-label-help-text",""],["form-field-input-content","",3,"ngClass"],["type","text","cpValidationStrategy","","class","form-control",3,"id","formControlName","name",4,"ngIf"],["class","input-group-addon override-has-success",3,"title",4,"ngIf"],["form-field-input-content","","type","text","cpValidationStrategy","","class","form-control",3,"id","formControlName","name",4,"ngIf"],["type","text","cpValidationStrategy","",1,"form-control",3,"id","formControlName","name"],[1,"input-group-addon","override-has-success",3,"title"],["form-field-input-content","","type","text","cpValidationStrategy","",1,"form-control",3,"id","formControlName","name"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"cp-form-field",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,Ne,1,3,"input",4),e.YNc(6,Ie,2,2,"span",5),e.qZA(),e.YNc(7,Ye,2,3,"textarea",6),e.qZA()()),2&t&&(e.Q6J("formGroup",n.formGroup),e.xp6(1),e.Q6J("control",n.control)("showAllHelp",n.showInfoBlockService.showAllHelp)("labelText",n.labelText)("labelFor",n.controlName)("showInfoToggle",n.infoBlockText),e.xp6(2),e.Oqu(n.infoBlockText),e.xp6(1),e.Q6J("ngClass",e.VKq(11,Be,n.inputAddon)),e.xp6(1),e.Q6J("ngIf",n.element===n.formFieldType.input),e.xp6(1),e.Q6J("ngIf",n.inputAddon),e.xp6(1),e.Q6J("ngIf",n.element===n.formFieldType.textarea))},dependencies:[p.mk,p.O5,l.Fj,l.JJ,l.JL,l.sg,l.u,r.hg,r.ln],styles:["textarea[_ngcontent-%COMP%]{resize:vertical;position:relative}.override-has-success[_ngcontent-%COMP%]{color:#555;background-color:#eee;border-color:#ccc}"]}),i})();function Re(i,a){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"p",3)(3,"cp-callout",4),e._UZ(4,"span",5),e.qZA()()(),e._UZ(5,"input",6)(6,"label",7)(7,"cp-validation-container",8),e.qZA()),2&i){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("innerHtml",t.locale.maketext("[output,strong,Security Risk:] This role may grant access to account-level functionality. Only grant this role to users that you trust to access and modify your account."),e.oJD),e.xp6(2),e.Q6J("innerHtml","&nbsp"+t.locale.maketext("I have read and understood the security risk warning."),e.oJD),e.xp6(1),e.Q6J("control",t.form.get("acknowledgment"))}}let ce=(()=>{class i{constructor(t){this.locale=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-acknowledgment-check"]],inputs:{form:"form"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"col-xs-12","acknowledgment-check__security-paragraph"],["id","acknowledgment-check__security-warning","calloutType","warning"],[3,"innerHtml"],["type","checkbox","id","acknowledgment-checkbox","formControlName","acknowledgment"],["for","acknowledgment-checkbox",3,"innerHtml"],["id","acknowledgment_validation-container",3,"control"]],template:function(t,n){1&t&&e.YNc(0,Re,8,4,"div",0),2&t&&e.Q6J("ngIf",!n.form.get("acknowledgment").disabled)},dependencies:[p.O5,l.Wl,l.JJ,l.JL,l.sg,l.u,r.fm,r.Oc],styles:[".acknowledgment-check__security-paragraph[_ngcontent-%COMP%]{margin:0}"]}),i})();var w=d(8635);function Ge(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ul",23)(1,"li",24)(2,"a",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.selectSize("MB"))}),e._uU(3,"MB"),e.qZA()(),e.TgZ(4,"li",24)(5,"a",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.selectSize("GB"))}),e._uU(6,"GB"),e.qZA()(),e.TgZ(7,"li",24)(8,"a",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.selectSize("TB"))}),e._uU(9,"TB"),e.qZA()(),e.TgZ(10,"li",24)(11,"a",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.selectSize("PB"))}),e._uU(12,"PB"),e.qZA()()()}}function He(i,a){if(1&i&&e._UZ(0,"cp-validation-container",26),2&i){const t=e.oxw();e.Q6J("control",t.form.get("email.quota"))}}const ze=function(i){return{"btn btn-default dropdown-toggle":!0,"services__button--disabled":i}};let Ve=(()=>{class i{constructor(t,n,o,s,c,C){this.maxEmailQuota=t,this.defaultEmailQuota=n,this.locale=o,this.fb=s,this.activatedRoute=c,this.mapApiService=C,this.toggleLabelPositions=r.Gy,this.toggleStates=r.Yg,this.selectedSize="MB",this.emailToggleState=r.Yg.toggleOff,this.setUnlimitedLabel(this.maxEmailQuota)}ngOnInit(){this.activatedRoute.snapshot.url[0].path===m.create?this.addCreateEmailControls():this.addEditEmailControls(),this.form.get("email.options").valueChanges.subscribe(n=>{this.updateEmailValidators(n)}),this.form.get("email.options").disabled||(this.emailToggleState=r.Yg.toggleOn)}updateToggle(){this.emailToggleState===r.Yg.toggleOff?(this.emailToggleState=r.Yg.toggleOn,this.form.get("email.options").enable(),this.form.get("email.quota").enable()):this.emailToggleState===r.Yg.toggleOn&&(this.emailToggleState=r.Yg.toggleOff,this.form.get("email.options").disable(),this.form.get("email.quota").disable())}setEmailServiceOptionLimited(){this.form.get("email.options").setValue("limited");const t=this.form.get("email.quota");t.value||t.setValue(this.lastQuotaValue||this.defaultEmailQuota)}setEmailServiceOptionUnlimited(){this.lastQuotaValue=this.form.get("email.quota").value,this.form.get("email.quota").setValue("")}selectSize(t){this.selectedSize=t,this.setEmailQuotaValidators(this.form,this.maxEmailQuota,this.getValidatorMaxQuota(t))}addCreateEmailControls(){this.form.addControl("email",this.fb.group({options:[{value:"unlimited",disabled:!0},{updateOn:"change"}],quota:[{value:"",disabled:!0},{}]}))}addEditEmailControls(){const t=this.activatedRoute.snapshot.paramMap.get("id"),n=this.mapApiService.getTeamUserApiServices(t),o=Number(n.email.quota)||void 0,s=o&&o!==Number(this.maxEmailQuota)?"limited":"unlimited";this.form.addControl("email",this.fb.group({options:[{value:s,disabled:!(0,w.s)(n.email.enabled)},{updateOn:"change"}],quota:[{value:"limited"===s?o:"",disabled:!(0,w.s)(n.email.enabled)}]}))}setUnlimitedLabel(t){this.emailUnlimitedLabel="unlimited"!==t?this.locale.maketext("Maximum ([format_bytes,_1])",1048576*t):this.locale.maketext("Unlimited")}updateEmailValidators(t){"limited"===t?this.setEmailQuotaValidators(this.form,this.maxEmailQuota,this.getValidatorMaxQuota(this.selectedSize)):this.form.get("email.quota").setValidators(null),this.form.get("email.quota").updateValueAndValidity()}getValidatorMaxQuota(t){if("unlimited"===this.maxEmailQuota)return null;switch(t){case"GB":return this.maxEmailQuota/1024;case"TB":return this.maxEmailQuota/1048576;case"PB":return this.maxEmailQuota/1073741824;default:return this.maxEmailQuota}}setEmailQuotaValidators(t,n,o){const s=[g.dt.required(this.locale.maketext("Quota must be an integer.")),g.dt.min(this.locale.maketext("Quota must be greater than zero."),0)];"unlimited"!==n&&s.push(g.dt.max(this.locale.maketext("Quotas cannot exceed [format_bytes,_1].",1048576*n),o)),t.get("email.quota").setValidators(s),this.form.get("email.quota").updateValueAndValidity()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ee),e.Y36(te),e.Y36(u.g),e.Y36(l.QS),e.Y36(f.gz),e.Y36(T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-service-email"]],inputs:{form:"form"},decls:28,vars:15,consts:[[1,"panel","panel-default"],[1,"panel-heading","services-heading"],[1,"services-heading__label"],["id","toggleEmail",3,"onText","offText","toggleState","labelPosition","toggleStatus"],[1,"panel-body"],[3,"formGroup"],["formGroupName","email",1,"form-group"],[1,"row"],[1,"col-xs-12"],[1,"fieldset-label"],[1,"services__radio"],["type","radio","id","services-email-unlimited","formControlName","options","value","unlimited",3,"change"],["for","services-email-unlimited",1,"fieldset-password__radio-label"],[1,"services__radio","service__limit"],["type","radio","id","services-email-limited","formControlName","options","value","limited",3,"change"],["for","services-email-limited",1,"fieldset-password__radio-label",3,"click"],[1,"input-group","mb-3"],["type","number","id","email-quota__limit","size","11","cpValidationStrategy","","formControlName","quota",1,"form-control",3,"readOnly"],["dropdown","",1,"input-group-btn",3,"isDisabled"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",3,"ngClass"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","email-service_validation-container",3,"control",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["id","email-service_validation-container",3,"control"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.qZA(),e.TgZ(4,"cp-toggle-switch",3),e.NdJ("toggleStatus",function(){return n.updateToggle()}),e.qZA()(),e.TgZ(5,"div",4)(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"fieldset")(11,"legend",9),e._uU(12),e.qZA(),e.TgZ(13,"div",10)(14,"input",11),e.NdJ("change",function(){return n.setEmailServiceOptionUnlimited()}),e.qZA(),e.TgZ(15,"label",12),e._uU(16),e.qZA()(),e.TgZ(17,"div",13)(18,"input",14),e.NdJ("change",function(){return n.setEmailServiceOptionLimited()}),e.qZA(),e.TgZ(19,"label",15),e.NdJ("click",function(){return n.setEmailServiceOptionLimited()}),e.TgZ(20,"div",16),e._UZ(21,"input",17),e.TgZ(22,"div",18)(23,"button",19),e._uU(24),e._UZ(25,"span",20),e.qZA(),e.YNc(26,Ge,13,0,"ul",21),e.qZA()()()()(),e.YNc(27,He,1,1,"cp-validation-container",22),e.qZA()()()()()()),2&t&&(e.xp6(3),e.Oqu(n.locale.maketext("Email")),e.xp6(1),e.Q6J("onText",n.locale.maketext("Enabled"))("offText",n.locale.maketext("Disabled"))("toggleState",n.emailToggleState)("labelPosition",n.toggleLabelPositions.left),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(6),e.hij(" ",n.locale.maketext("Quota")," "),e.xp6(4),e.hij(" ",n.emailUnlimitedLabel," "),e.xp6(5),e.Q6J("readOnly","unlimited"===n.form.get("email.options").value),e.xp6(1),e.Q6J("isDisabled",n.form.get("email.options").disabled),e.xp6(1),e.Q6J("ngClass",e.VKq(13,ze,"unlimited"===n.form.get("email.options").value)),e.xp6(1),e.hij(" ",n.selectedSize," "),e.xp6(3),e.Q6J("ngIf",n.form.get("email.quota").enabled))},dependencies:[p.mk,p.O5,l._Y,l.Fj,l.wV,l._,l.JJ,l.JL,l.sg,l.u,l.x0,h.Hz,h.Mq,h.TO,r.MF,r.fm,r.ln],styles:[".service-spacer[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-3)}.service__limit[_ngcontent-%COMP%]{display:flex;align-items:center}.service__limit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .service__limit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.services__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px}legend[_ngcontent-%COMP%]{display:inline-block;font-size:unset;border:none;font-weight:var(--cp-font-weight-semi-bold);margin:0 0 var(--cp-spacer-1)}.services-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.services-heading[_ngcontent-%COMP%]   .services-heading__label[_ngcontent-%COMP%]{margin:0}input[readonly][_ngcontent-%COMP%]{cursor:default}.services__button--disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.65}"]}),i})();function $e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ul",25)(1,"li",26)(2,"a",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.selectSize("MB"))}),e._uU(3,"MB"),e.qZA()(),e.TgZ(4,"li",26)(5,"a",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.selectSize("GB"))}),e._uU(6,"GB"),e.qZA()(),e.TgZ(7,"li",26)(8,"a",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.selectSize("TB"))}),e._uU(9,"TB"),e.qZA()(),e.TgZ(10,"li",26)(11,"a",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.selectSize("PB"))}),e._uU(12,"PB"),e.qZA()()()}}function je(i,a){if(1&i&&e._UZ(0,"cp-validation-container",28),2&i){const t=e.oxw(2);e.Q6J("control",t.form.get("ftp.quota"))}}const We=function(i){return{"btn btn-default dropdown-toggle":!0,"services__button--disabled":i}};function Ke(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"fieldset")(4,"legend",11),e._uU(5),e.qZA(),e.TgZ(6,"div",12)(7,"input",13),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setFtpServiceOptionUnlimited())}),e.qZA(),e.TgZ(8,"label",14),e._uU(9),e.qZA()(),e.TgZ(10,"div",15)(11,"input",16),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setFtpServiceOptionLimited())}),e.qZA(),e.TgZ(12,"label",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setFtpServiceOptionLimited())}),e.TgZ(13,"div",18),e._UZ(14,"input",19),e.TgZ(15,"div",20)(16,"button",21),e._uU(17),e._UZ(18,"span",22),e.qZA(),e.YNc(19,$e,13,0,"ul",23),e.qZA()()()()(),e.YNc(20,je,1,1,"cp-validation-container",24),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(5),e.hij(" ",t.locale.maketext("Quota")," "),e.xp6(4),e.hij(" ",t.locale.maketext("Unlimited")," "),e.xp6(5),e.Q6J("readOnly","unlimited"===t.form.get("ftp.options").value),e.xp6(1),e.Q6J("isDisabled",t.form.get("ftp.options").disabled),e.xp6(1),e.Q6J("ngClass",e.VKq(7,We,"unlimited"===t.form.get("ftp.options").value)),e.xp6(1),e.hij(" ",t.selectedSize," "),e.xp6(3),e.Q6J("ngIf",t.form.get("ftp.quota").enabled)}}function Xe(i,a){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"label",29),e._uU(4),e.qZA(),e.TgZ(5,"div",30)(6,"div",31),e._UZ(7,"cp-icon",32),e.TgZ(8,"span"),e._uU(9,"/"),e.qZA()(),e._UZ(10,"input",33),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.locale.maketext("Home Directory"))}}let et=(()=>{class i{constructor(t,n,o,s,c){this.locale=t,this.ftpDaemonInfo=n,this.fb=o,this.mapApiService=s,this.activatedRoute=c,this.toggleLabelPositions=r.Gy,this.toggleStates=r.Yg,this.selectedSize="MB",this.ftpToggleState=r.Yg.toggleOff,this.defaultFtpQuota=100}ngOnInit(){this.activatedRoute.snapshot.url[0].path===m.create?(this.addCreateFtpControls(),this.form.get("username").valueChanges.subscribe(n=>{this.form.get("ftp.homedir").pristine&&this.form.get("ftp.homedir").patchValue(`public_html/${n}`)})):this.addEditFtpControls(),this.form.get("ftp.options").valueChanges.subscribe(n=>{"limited"===n?this.setFtpQuotaValidators(this.form):(this.form.get("ftp.quota").setValidators(null),this.form.get("ftp.quota").updateValueAndValidity())}),this.form.get("ftp.options").disabled||(this.ftpToggleState=r.Yg.toggleOn)}updateToggle(){this.ftpToggleState===r.Yg.toggleOff?(this.ftpToggleState=r.Yg.toggleOn,this.form.get("ftp.options").enable(),this.form.get("ftp.homedir").enable(),this.ftpDaemonInfo.supports.quota&&this.form.get("ftp.quota").enable()):this.ftpToggleState===r.Yg.toggleOn&&(this.ftpToggleState=r.Yg.toggleOff,this.form.get("ftp.options").disable(),this.form.get("ftp.homedir").disable(),this.form.get("ftp.quota").disable())}setFtpServiceOptionLimited(){this.form.get("ftp.options").setValue("limited");const t=this.form.get("ftp.quota");t.value||t.setValue(this.lastQuotaValue||this.defaultFtpQuota)}setFtpServiceOptionUnlimited(){this.lastQuotaValue=this.form.get("ftp.quota").value,this.form.get("ftp.quota").setValue("")}selectSize(t){this.selectedSize=t}addCreateFtpControls(){this.form.addControl("ftp",this.fb.group({options:[{value:"unlimited",disabled:!0},{updateOn:"change"}],quota:[{value:"",disabled:!0},{}],homedir:[{value:"",disabled:!0},{}]}))}addEditFtpControls(){const t=this.activatedRoute.snapshot.paramMap.get("id"),n=this.mapApiService.getTeamUserApiServices(t);this.form.addControl("ftp",this.fb.group({options:[{value:Number(n.ftp.quota)>0?"limited":"unlimited",disabled:!(0,w.s)(n.ftp.enabled)},{updateOn:"change"}],quota:[{value:Number(n.ftp.quota)||"",disabled:!(0,w.s)(n.ftp.enabled)}],homedir:[{value:n.ftp.homedir||`public_html/${t}`,disabled:!(0,w.s)(n.ftp.enabled)}]}))}setFtpQuotaValidators(t){const n=[g.dt.required(this.locale.maketext("Quota must be an integer.")),g.dt.min(this.locale.maketext("Quota must be greater than zero."),0)];t.get("ftp.quota").setValidators(n),this.form.get("ftp.quota").updateValueAndValidity()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g),e.Y36(I),e.Y36(l.QS),e.Y36(T),e.Y36(f.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-service-ftp"]],inputs:{form:"form"},decls:10,vars:8,consts:[[1,"panel","panel-default"],[1,"panel-heading","services-heading"],[1,"services-heading__label"],["id","toggleFtp",3,"onText","offText","toggleState","labelPosition","toggleStatus"],[1,"panel-body"],[3,"formGroup"],["formGroupName","ftp"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"row"],[1,"col-xs-12"],[1,"fieldset-label"],[1,"services__radio"],["type","radio","id","services-ftp-unlimited","formControlName","options","value","unlimited",3,"change"],["for","services-ftp-unlimited",1,"fieldset-password__radio-label"],[1,"services__radio","service__limit"],["type","radio","id","services-ftp-limited","formControlName","options","value","limited",3,"change"],["for","services-ftp-limited",1,"fieldset-password__radio-label",3,"click"],[1,"input-group","mb-3"],["type","number","id","ftp-quota__limit","size","11","cpValidationStrategy","","formControlName","quota",1,"form-control",3,"readOnly"],["dropdown","",1,"input-group-btn",3,"isDisabled"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",3,"ngClass"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","ftp-service_validation-container",3,"control",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["id","ftp-service_validation-container",3,"control"],["for","service-ftp-homedir"],[1,"input-group"],[1,"input-group-addon"],["name","home-2-fill","size","ri-sm"],["type","text","id","service-ftp-homedir","formControlName","homedir",1,"form-control"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.qZA(),e.TgZ(4,"cp-toggle-switch",3),e.NdJ("toggleStatus",function(){return n.updateToggle()}),e.qZA()(),e.TgZ(5,"div",4)(6,"form",5)(7,"div",6),e.YNc(8,Ke,21,9,"div",7),e.YNc(9,Xe,11,1,"div",7),e.qZA()()()()),2&t&&(e.xp6(3),e.Oqu(n.locale.maketext("FTP")),e.xp6(1),e.Q6J("onText",n.locale.maketext("Enabled"))("offText",n.locale.maketext("Disabled"))("toggleState",n.ftpToggleState)("labelPosition",n.toggleLabelPositions.left),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("ngIf",n.ftpDaemonInfo.supports.quota),e.xp6(1),e.Q6J("ngIf",n.ftpDaemonInfo.supports.quota))},dependencies:[p.mk,p.O5,l._Y,l.Fj,l.wV,l._,l.JJ,l.JL,l.sg,l.u,l.x0,h.Hz,h.Mq,h.TO,r.MF,r.fm,r.ln],styles:[".service-spacer[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-3)}.service__limit[_ngcontent-%COMP%]{display:flex;align-items:center}.service__limit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .service__limit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.services__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px}legend[_ngcontent-%COMP%]{display:inline-block;font-size:unset;border:none;font-weight:var(--cp-font-weight-semi-bold);margin:0 0 var(--cp-spacer-1)}.services-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.services-heading[_ngcontent-%COMP%]   .services-heading__label[_ngcontent-%COMP%]{margin:0}input[readonly][_ngcontent-%COMP%]{cursor:default}.services__button--disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.65}"]}),i})();function tt(i,a){if(1&i&&e._UZ(0,"cp-alert",26),2&i){const t=e.oxw();e.Q6J("alert",t.digestAlert)}}let nt=(()=>{class i{constructor(t,n,o,s,c){this.locale=t,this.fb=n,this.activatedRoute=o,this.mapApiService=s,this.showInfoBlocksService=c,this.toggleLabelPositions=r.Gy,this.toggleStates=r.Yg,this.webdiskToggleState=r.Yg.toggleOff,this.digestAlert=new r.bZ(this.locale.maketext("You must provide a new password to enable Digest Authentication."),r.NK.warning,{isCloseable:!1})}ngOnInit(){this.activatedRoute.snapshot.url[0].path===m.create?(this.addCreateWebdiskControls(),this.form.get("username").valueChanges.subscribe(n=>{this.form.get("webdisk.homedir").pristine&&this.form.get("webdisk.homedir").patchValue(`public_html/${n}`)})):this.addEditWebdiskControls(),this.form.get("webdisk.options").disabled||(this.webdiskToggleState=r.Yg.toggleOn),this.digestInitiallyEnabled=this.form.get("webdisk.enableDigest").value}updateToggle(){this.webdiskToggleState===r.Yg.toggleOff?(this.webdiskToggleState=r.Yg.toggleOn,this.form.get("webdisk.options").enable(),this.form.get("webdisk.homedir").enable(),this.form.get("webdisk.enableDigest").enable()):this.webdiskToggleState===r.Yg.toggleOn&&(this.webdiskToggleState=r.Yg.toggleOff,this.form.get("webdisk.options").disable(),this.form.get("webdisk.homedir").disable(),this.form.get("webdisk.enableDigest").disable())}addCreateWebdiskControls(){this.form.addControl("webdisk",this.fb.group({options:[{value:"readwrite",disabled:!0},{updateOn:"change"}],homedir:[{value:"",disabled:!0},{}],enableDigest:[{value:!1,disabled:!0},{}]}))}addEditWebdiskControls(){const t=this.activatedRoute.snapshot.paramMap.get("id"),n=this.mapApiService.getTeamUserApiServices(t);this.form.addControl("webdisk",this.fb.group({options:[{value:"ro"===n.webdisk.perms?"readonly":"readwrite",disabled:!(0,w.s)(n.webdisk.enabled)},{updateOn:"change"}],homedir:[{value:n.webdisk.homedir||`public_html/${t}`,disabled:!(0,w.s)(n.webdisk.enabled)}],enableDigest:[{value:(0,w.s)(n.webdisk.enabled)&&(0,w.s)(n.webdisk.enabledigest),disabled:!(0,w.s)(n.webdisk.enabled)},{updateOn:"change"}]}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g),e.Y36(l.QS),e.Y36(f.gz),e.Y36(T),e.Y36(F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-service-webdisk"]],inputs:{form:"form"},decls:41,vars:20,consts:[[1,"panel","panel-default"],[1,"panel-heading","services-heading"],[1,"services-heading__label"],["id","toggleWebdisk",3,"onText","offText","toggleState","labelPosition","toggleStatus"],[1,"panel-body"],[3,"formGroup"],["formGroupName","webdisk"],[1,"form-group"],[1,"row"],[1,"col-xs-12"],["for","service-webdisk-homedir"],[1,"input-group"],[1,"input-group-addon"],["name","home-2-fill","size","ri-sm"],["type","text","id","service-webdisk-homedir","formControlName","homedir",1,"form-control"],["id","webdisk-options","for","options",3,"showInfoBlock","labelText"],[1,"services__radio"],["type","radio","id","services-webdisk-read-write","formControlName","options","value","readwrite"],["for","services-webdisk-read-write",1,"fieldset-password__radio-label"],["type","radio","id","services-webdisk-read-only","formControlName","options","value","readonly"],["for","services-webdisk-read-only",1,"fieldset-password__radio-label"],["id","webdisk-digest-auth","for","enableDigest",3,"showInfoBlock","labelText"],[3,"alert",4,"ngIf"],["type","checkbox","id","digest-checkbox","formControlName","enableDigest"],["for","digest-checkbox",3,"innerHtml"],[1,"help-block"],[3,"alert"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.qZA(),e.TgZ(4,"cp-toggle-switch",3),e.NdJ("toggleStatus",function(){return n.updateToggle()}),e.qZA()(),e.TgZ(5,"div",4)(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),e._uU(12),e.qZA(),e.TgZ(13,"div",11)(14,"div",12),e._UZ(15,"cp-icon",13),e.TgZ(16,"span"),e._uU(17,"/"),e.qZA()(),e._UZ(18,"input",14),e.qZA()()()(),e.TgZ(19,"div",7)(20,"div",8)(21,"div",9)(22,"cp-form-label",15),e._uU(23),e.qZA(),e.TgZ(24,"div",16),e._UZ(25,"input",17),e.TgZ(26,"label",18),e._uU(27),e.qZA()(),e.TgZ(28,"div",16),e._UZ(29,"input",19),e.TgZ(30,"label",20),e._uU(31),e.qZA()()()()(),e.TgZ(32,"div",8)(33,"div",9)(34,"cp-form-label",21),e._uU(35),e.qZA(),e.YNc(36,tt,1,1,"cp-alert",22),e._UZ(37,"input",23)(38,"label",24),e.TgZ(39,"span",25),e._uU(40),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.Oqu(n.locale.maketext("Web Disk")),e.xp6(1),e.Q6J("onText",n.locale.maketext("Enabled"))("offText",n.locale.maketext("Disabled"))("toggleState",n.webdiskToggleState)("labelPosition",n.toggleLabelPositions.left),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(6),e.Oqu(n.locale.maketext("Home Directory")),e.xp6(10),e.Q6J("showInfoBlock",n.showInfoBlocksService.showAllHelp)("labelText",n.locale.maketext("Permissions")),e.xp6(1),e.AsE(" ",n.locale.maketext("Read-Write access level will permit all supported operations inside the directory assigned to this Web Disk account.")," ",n.locale.maketext("Read-Only access will only permit this account to read, download, and list files inside the directory assigned to this Web Disk account.")," "),e.xp6(4),e.hij(" ",n.locale.maketext("Read-Write")," "),e.xp6(4),e.hij(" ",n.locale.maketext("Read-Only")," "),e.xp6(3),e.Q6J("showInfoBlock",n.showInfoBlocksService.showAllHelp)("labelText",n.locale.maketext("Authentication (Optional)")),e.xp6(1),e.AsE(" ",n.locale.maketext("[list_and,_*] require Digest Authentication support to be enabled in order to access your Web Disk over a clear text/unencrypted connection.","Windows Vista\xae","Windows\xae 7","Windows\xae 8")," ",n.locale.maketext("If the server has an SSL certificate signed by a recognized certificate authority and you are able to make an SSL connection over port 2078, you do not need to enable this.")," "),e.xp6(1),e.Q6J("ngIf",!n.digestInitiallyEnabled&&n.form.get("webdisk.enableDigest").enabled),e.xp6(2),e.Q6J("innerHtml","&nbsp"+n.locale.maketext("Enable Digest Authentication"),e.oJD),e.xp6(2),e.Oqu(n.locale.maketext("This option only applies to [asis,Windows Vista\xae], [asis,Windows\xae 7], [asis,Windows\xae 8] and [asis,Windows\xae 10].")))},dependencies:[p.O5,l._Y,l.Fj,l.Wl,l._,l.JJ,l.JL,l.sg,l.u,l.x0,r.MF,r._P,r.wx],styles:[".service-spacer[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-3)}.service__limit[_ngcontent-%COMP%]{display:flex;align-items:center}.service__limit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .service__limit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.services__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px}legend[_ngcontent-%COMP%]{display:inline-block;font-size:unset;border:none;font-weight:var(--cp-font-weight-semi-bold);margin:0 0 var(--cp-spacer-1)}.services-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.services-heading[_ngcontent-%COMP%]   .services-heading__label[_ngcontent-%COMP%]{margin:0}input[readonly][_ngcontent-%COMP%]{cursor:default}.services__button--disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.65}"]}),i})();function it(i,a){if(1&i&&e._UZ(0,"cp-team-manager-service-email",2),2&i){const t=e.oxw();e.Q6J("form",t.form)}}function ot(i,a){if(1&i&&e._UZ(0,"cp-team-manager-service-ftp",2),2&i){const t=e.oxw();e.Q6J("form",t.form)}}function at(i,a){if(1&i&&e._UZ(0,"cp-team-manager-service-webdisk",2),2&i){const t=e.oxw();e.Q6J("form",t.form)}}let pe=(()=>{class i{constructor(t,n,o,s){this.isEmailServiceAvailable=t,this.ftpDaemonInfo=n,this.isWebdiskServiceAvailable=o,this.locale=s}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ne),e.Y36(I),e.Y36(ie),e.Y36(u.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-services-wrapper"]],inputs:{form:"form"},decls:6,vars:3,consts:[[1,"service-spacer"],[3,"form",4,"ngIf"],[3,"form"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,it,1,1,"cp-team-manager-service-email",1),e.qZA(),e.TgZ(2,"div",0),e.YNc(3,ot,1,1,"cp-team-manager-service-ftp",1),e.qZA(),e.TgZ(4,"div",0),e.YNc(5,at,1,1,"cp-team-manager-service-webdisk",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.isEmailServiceAvailable),e.xp6(2),e.Q6J("ngIf",n.ftpDaemonInfo.enabled),e.xp6(2),e.Q6J("ngIf",n.isWebdiskServiceAvailable))},dependencies:[p.O5,Ve,et,nt],styles:[".service-spacer[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-3)}.service__limit[_ngcontent-%COMP%]{display:flex;align-items:center}.service__limit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .service__limit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.services__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px}legend[_ngcontent-%COMP%]{display:inline-block;font-size:unset;border:none;font-weight:var(--cp-font-weight-semi-bold);margin:0 0 var(--cp-spacer-1)}.services-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.services-heading[_ngcontent-%COMP%]   .services-heading__label[_ngcontent-%COMP%]{margin:0}input[readonly][_ngcontent-%COMP%]{cursor:default}.services__button--disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.65}"]}),i})();function st(i,a){if(1&i&&e._UZ(0,"cp-validation-container",14),2&i){const t=e.oxw();e.Q6J("control",t.form.get("expireDate"))}}function rt(i,a){1&i&&e._UZ(0,"cp-icon",18)}function lt(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",15)(2,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.unExpireTeamUser())}),e.YNc(3,rt,1,0,"cp-icon",17),e.TgZ(4,"span"),e._uU(5),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",t.loading),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(2),e.Oqu(t.locale.maketext("Clear expire date"))}}function ct(i,a){if(1&i&&(e.ynx(0),e.YNc(1,lt,6,3,"ng-container",13),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isExpired)}}const pt=function(i){return{adaptivePosition:!0,isAnimated:!0,dateInputFormat:i}},mt=function(i){return{"input-group":i}};let me=(()=>{class i{constructor(t,n,o,s,c){this.locale=t,this.teamManagerApiService=n,this.alertService=o,this.window=s,this.router=c,this.actionVisible=!0,this.datepickerMinDate=new Date,this.loading=!1,this.isExpired=!1}ngOnInit(){this.setDateFormatAndPlaceholder(),this.isExpired=this.form.get("expireDate").disabled}unExpireTeamUser(){this.loading=!0,this.teamManagerApiService.cancelExpire(this.form.get("username").value).pipe((0,x.q)(1),(0,P.x)(()=>{this.loading=!1})).subscribe({next:()=>{this.alertService.success(this.locale.maketext("The team user\u2019s expire date has been cleared.")),this.resetExpireFields()},error:t=>{this.alertService.error(t.message)}})}expireSetForNewUser(t){this.router.url.includes(m.create)&&t&&this.window.mixpanel?.track("ManageTeam-Expire-ExpireDate-Set",{date:t})}setDateFormatAndPlaceholder(){this.localizedDateFormat=this.window.CLDR.datetime_info.date_format_short.replace(/[y]+/gi,"YYYY").replace(/[d]+/gi,"DD").replace(/[m]+/gi,"MM"),this.datePlaceholder=this.localizedDateFormat.replace(/[d]+/gi,"31").replace(/[m]+/gi,"01").replace(/[y]+/gi,((new Date).getFullYear()+1).toString())}resetExpireFields(){this.form.get("expireReason").patchValue(""),this.form.get("expireDate").patchValue(null),this.form.get("expireReason").enable(),this.form.get("expireDate").enable(),this.isExpired=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g),e.Y36(M),e.Y36(r.c9),e.Y36(Window),e.Y36(f.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-expire"]],inputs:{form:"form",actionVisible:"actionVisible"},decls:15,vars:16,consts:[[3,"formGroup"],[1,"form-group"],["for","team-user__datepicker",3,"innerHtml"],[1,"input-group","expire__datepicker"],["type","text","id","team-user__expire","bsDatepicker","","formControlName","expireDate",1,"form-control",3,"placeholder","bsConfig","minDate","bsValueChange"],["datepicker","bsDatepicker"],[1,"input-group-btn"],["id","searchField_submit_btn","type","button",1,"btn","btn-outline-secondary","expire__datepicker-button",3,"disabled","click"],["aria-hidden","true",1,"fas","fa-calendar"],["id","expire-date__validation-container",3,"control",4,"ngIf"],["for","team-user__expire-reason",3,"innerHtml"],[3,"ngClass"],["type","text","formControlName","expireReason","id","team-user__expire-reason",1,"form-control",3,"placeholder"],[4,"ngIf"],["id","expire-date__validation-container",3,"control"],["role","group",1,"form-group"],["type","button",1,"btn","btn-outline-primary","expire__main-action-button",3,"disabled","click"],["class","expire-team-user__action-icon fa-spin","name","refresh-line","size","ri-sm","mode","1","aria-hidden","true",4,"ngIf"],["name","refresh-line","size","ri-sm","mode","1","aria-hidden","true",1,"expire-team-user__action-icon","fa-spin"]],template:function(t,n){if(1&t){const o=e.EpF();e.ynx(0,0),e.TgZ(1,"div",1),e._UZ(2,"label",2),e.TgZ(3,"div",3)(4,"input",4,5),e.NdJ("bsValueChange",function(c){return n.expireSetForNewUser(c)}),e.qZA(),e.TgZ(6,"span",6)(7,"button",7),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(5);return e.KtG(c.toggle())}),e._UZ(8,"i",8),e.qZA()()(),e.YNc(9,st,1,1,"cp-validation-container",9),e.qZA(),e.TgZ(10,"div",1),e._UZ(11,"label",10)(12,"div",11)(13,"input",12),e.qZA(),e.YNc(14,ct,2,1,"ng-container",13),e.BQk()}2&t&&(e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("innerHtml",n.locale.maketext("Expire On (optional)"),e.oJD),e.xp6(2),e.Q6J("placeholder",n.datePlaceholder)("bsConfig",e.VKq(12,pt,n.localizedDateFormat))("minDate",n.datepickerMinDate),e.xp6(3),e.Q6J("disabled",n.isExpired),e.uIk("aria-label",n.locale.maketext("Date-picker to select a date to expire the team user account.")),e.xp6(2),e.Q6J("ngIf",!(n.isExpired||null!=n.form.get("expireDate").errors&&n.form.get("expireDate").errors.bsDate)),e.xp6(2),e.Q6J("innerHtml",n.locale.maketext("Expire Reason (optional)"),e.oJD),e.xp6(1),e.Q6J("ngClass",e.VKq(14,mt,n.actionVisible)),e.xp6(1),e.Q6J("placeholder",n.locale.maketext("e.g. Contract ends")),e.xp6(1),e.Q6J("ngIf",n.actionVisible))},dependencies:[p.mk,p.O5,l.Fj,l.JJ,l.JL,l.sg,l.u,N.Np,N.Y5,r.fm],styles:[".expire__datepicker[_ngcontent-%COMP%]{width:11rem}.expire__datepicker-button[_ngcontent-%COMP%]{border:1px solid #ccc}.expire__button-group.show[_ngcontent-%COMP%]{display:flex!important}.expire__button-group[_ngcontent-%COMP%]{display:flex}.expire__main-action-button[_ngcontent-%COMP%]{display:flex;align-items:center}html[dir=ltr][_ngcontent-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%]{margin-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .expire-team-user__action-icon[_ngcontent-%COMP%]{margin-left:var(--cp-spacer-1)}.expire__dropdown-button[_ngcontent-%COMP%], .expire__main-action-button[_ngcontent-%COMP%]{margin:0;z-index:2}"]}),i})();const dt=function(i,a){return{"fa-chevron-down":i,"fa-chevron-right":a}};let de=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-collapsible-section"]],inputs:{isOpen:"isOpen",srCollapse:"srCollapse",srExpand:"srExpand",title:"title"},decls:5,vars:7,consts:[["type","button",1,"btn","btn-sm","btn-link","collapsible-section__toggle"],[1,"sr-only",3,"innerHTML"],["aria-hidden","true",1,"fas","collapsible-section__icon",3,"ngClass"],[1,"base-team-user__section-title"]],template:function(t,n){1&t&&(e.TgZ(0,"button",0),e._UZ(1,"span",1)(2,"i",2),e.TgZ(3,"span",3),e._uU(4),e.qZA()()),2&t&&(e.uIk("aria-expanded",n.isOpen),e.xp6(1),e.Q6J("innerHTML",n.isOpen?n.srCollapse:n.srExpand,e.oJD),e.xp6(1),e.Q6J("ngClass",e.WLB(4,dt,n.isOpen,!n.isOpen)),e.xp6(2),e.hij(" ",n.title," "))},dependencies:[p.mk],styles:[".collapsible-section__toggle[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:inherit}.collapsible-section__toggle[aria-expanded=true][_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-2)}.collapsible-section__icon[_ngcontent-%COMP%]{padding:var(--cp-spacer-2) var(--cp-spacer-1);width:24px;font-size:.875rem}"]}),i})();const _t=["ngSelect"],ut=["showRoleFeaturesButton"],gt=["infoBlockChild"];function ht(i,a){1&i&&e.GkF(0)}function ft(i,a){if(1&i&&e._UZ(0,"cp-validation-container",41),2&i){const t=e.oxw();e.Q6J("control",t.createTeamUserForm)}}function Ct(i,a){if(1&i&&e._UZ(0,"span",46),2&i){const t=a.$implicit;e.Q6J("title",t)("innerHtml",t,e.oJD)}}function bt(i,a){if(1&i&&(e.TgZ(0,"div",44),e.YNc(1,Ct,1,2,"span",45),e.qZA()),2&i){const t=e.oxw().item;e.xp6(1),e.Q6J("ngForOf",t.features)}}function Ot(i,a){if(1&i&&(e._UZ(0,"input",42),e._uU(1),e.YNc(2,bt,2,1,"div",43)),2&i){const t=a.item,n=a.item$,o=e.oxw();e.MGl("id","item-",t.title,""),e.Q6J("checked",n.selected),e.xp6(1),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("ngIf",o.showRoleFeatures)}}function xt(i,a){1&i&&e.GkF(0)}function wt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",47)(1,"div",48),e._uU(2),e.qZA(),e.TgZ(3,"div",49)(4,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleAllInfoBlocks())}),e._uU(5),e._UZ(6,"i",23),e.qZA()(),e._UZ(7,"div",51),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.hij(" ",t.locale.maketext("Create a Team User")," "),e.xp6(3),e.hij(" ",t.locale.maketext("Show/Hide Help")," ")}}const vt=function(i){return{"fa-spin":i,"base-team-user__action-button-icon":!0}};function Mt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitCreateUser())}),e._UZ(2,"cp-icon",54),e._uU(3),e.qZA(),e.TgZ(4,"a",55),e._UZ(5,"i",56),e._uU(6),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.createUserLoading)("title",t.locale.maketext("Create the new team user account.")),e.xp6(1),e.s9C("name",t.createUserLoading?"refresh-line":"add-fill"),e.Q6J("ngClass",e.VKq(8,vt,t.createUserLoading)),e.xp6(1),e.hij(" ",t.locale.maketext("Create")," "),e.xp6(1),e.Q6J("routerLink","/"),e.xp6(1),e.Q6J("ngClass",t.returnArrowDir),e.xp6(1),e.hij(" ",t.locale.maketext("Go Back")," ")}}let Pt=(()=>{class i extends ae{constructor(t,n,o,s,c,C,q,E,Q,R){super(t,n,o,s),this.locale=t,this.renderer=n,this.showInfoBlocksService=o,this.teamOwnerDomain=s,this.mapApiService=c,this.apiService=C,this.alertService=q,this.formBuilder=E,this.router=Q,this.window=R,this.passwordOptionSetToEmail=!0,this.createUserLoading=!1;const Jn={validators:g.HB.equalTo(this.locale.maketext("The username cannot be the same as the password."),"username","password"),updateOn:"blur"};this.createTeamUserForm=this.formBuilder.group({username:[""],notes:[""],passwordOptions:["email",{updateOn:"change"}],password:[""],expireDate:[null],expireReason:[""],contactEmail:[""],roles:[[],{updateOn:"change"}],acknowledgment:[{value:!1,disabled:!0},{updateOn:"change"}]},Jn),this.setUsernameValidators(this.createTeamUserForm),this.setNotesValidators(this.createTeamUserForm),this.setContactEmailValidators(this.createTeamUserForm),this.setPasswordOptionsValidators(this.createTeamUserForm),this.setAcknowledgmentValidators(this.createTeamUserForm)}ngAfterViewInit(){this.setShowFeaturesButtonPosition(this.ngSelect,this.showRoleFeaturesButton)}passwordOptionsChange(){this.passwordOptionSetToEmail="email"===this.createTeamUserForm.get("passwordOptions").value}submitCreateUser(){this.formSubmit.next(!0),this.createTeamUserForm.valid?(this.createUserLoading=!0,this.window.mixpanel?.track("ManageTeam-CreateTeamUser-SubmitCreate-Clicked",{teamUserUsername:this.createTeamUserForm.get("username").value}),this.apiService.createUser(this.createTeamUserForm.value).pipe((0,x.q)(1),(0,P.x)(()=>{this.createUserLoading=!1})).subscribe(()=>{this.alertService.success(`\n                        ${this.locale.maketext("New team user created.")}\n                        ${this.mapApiService.getExpireSuccessMessage(this.createTeamUserForm.get("username").value,this.createTeamUserForm.get("expireDate").value)}\n                    `),this.router.navigate([m.list])},t=>{const n=this.mapApiService.mapErrorIfDateExists(t);this.alertService.error(n)})):this.createTeamUserForm.markAllAsTouched()}securityAccordionExpanded(t){t&&this.window.mixpanel?.track("ManageTeam-CreateTeamUser-SecurityAccordion-Expanded")}setUsernameValidators(t){t.get("username").setValidators([g.dt.required(this.locale.maketext("You [output,strong,must] enter a username.")),g.dt.containsSpaces(this.locale.maketext("A username cannot contain spaces.")),g.dt.minLength(this.locale.maketext("A username must have between [numf,_1] and [numf,_2] characters.",1,16),1),g.dt.maxLength(this.locale.maketext("A username must have between [numf,_1] and [numf,_2] characters.",1,16),16),g.dt.startsWithLetter(this.locale.maketext("A username must start with a letter.")),g.YZ.cpanelUsername()])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g),e.Y36(e.Qsj),e.Y36(F),e.Y36(U),e.Y36(T),e.Y36(M),e.Y36(r.c9),e.Y36(l.QS),e.Y36(f.F0),e.Y36(Window))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-create-team-user"]],viewQuery:function(t,n){if(1&t&&(e.Gf(_t,5),e.Gf(ut,5),e.Gf(gt,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.ngSelect=o.first),e.iGM(o=e.CRH())&&(n.showRoleFeaturesButton=o.first),e.iGM(o=e.CRH())&&(n.infoBlockElements=o)}},features:[e.qOj],decls:57,vars:52,consts:[[1,"row","base-team-user__description"],[1,"col-sm-8","col-md-9",3,"innerHTML"],[1,"col-xs-12","col-sm-8","col-md-6","base-team-user__form-container"],["autocomplete","off",1,"form-layout-medium",3,"formGroup"],[1,"panel","panel-default"],[4,"ngTemplateOutlet"],[1,"team-user-form","panel-body"],["name","DummyUsername","type","text",2,"display","none"],["name","DummyPassword","type","password",2,"display","none"],["id","username","element","input","controlName","username",3,"control","labelText","formGroup","inputAddon"],[1,"form-group"],[1,"base-team-user__set-password-fieldset"],["id","fieldset-password",1,"base-team-user__fieldset-legend"],["type","radio","id","radio-password-email","formControlName","passwordOptions",3,"value","change"],["for","radio-password-email",1,"fieldset-password__radio-label"],["type","radio","id","radio-password-set","formControlName","passwordOptions",3,"value","change"],["for","radio-password-set",1,"fieldset-password__radio-label"],["formControlName","password",3,"hidden","id","passwordInputName","requiresStrengthValidation","requiredStrength","validateEmptyField","formSubmission"],["id","equality_validation-container",3,"control",4,"ngIf"],["id","email","element","input","controlName","contactEmail",3,"showAllHelp","control","infoBlockText","labelText","formGroup"],["for","roles__ng-select",3,"innerHtml"],["id","roles__show-info-button",1,"btn","btn-link","btn-xs","roles__show-info-button",3,"click"],["showRoleFeaturesButton",""],[1,"far","fa-question-circle","form-info-sign"],["bindLabel","title","bindValue","id","labelForId","roles__ng-select","formControlName","roles",1,"roles__ng-select--custom",3,"items","closeOnSelect","multiple","clearAllText","change"],["ngSelect",""],["ng-option-tmp",""],["id","roles_validation-container",3,"control"],[3,"form"],["id","notes","element","textarea","controlName","notes",3,"control","showAllHelp","infoBlockText","labelText","formGroup"],[1,"row"],[1,"base-team-user__accordion-group-panel"],["panelClass","custom-class",3,"isOpen"],["servicesAccordion",""],["accordion-heading","",3,"isOpen","title","srCollapse","srExpand"],["panelClass","custom-class",3,"isOpen","isOpenChange"],["securityAccordion",""],[3,"actionVisible","form"],[1,"col-xs-12","col-sm-4","col-md-3"],["panelHeading",""],["panelFooter",""],["id","equality_validation-container",3,"control"],["type","checkbox",3,"id","checked"],["class","roles__features-container",4,"ngIf"],[1,"roles__features-container"],["class","role-feature",3,"title","innerHtml",4,"ngFor","ngForOf"],[1,"role-feature",3,"title","innerHtml"],[1,"panel-heading"],[1,"widget-title","pull-left","flip"],[1,"pull-right","flip"],["type","button","id","link-show-hide-help",1,"btn","btn-default","btn-xs",3,"click"],[1,"clearfix"],[1,"panel-footer","base-team-user__panel-footer"],["id","create-user","type","submit",1,"btn","btn-sm","btn-primary","base-team-user__action-button",3,"disabled","title","click"],["aria-hidden","true",3,"ngClass","name"],["id","go-back",1,"btn","btn-link","flip",3,"routerLink"],["aria-hidden","true",1,"fas",3,"ngClass"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"p",1),e.qZA(),e.TgZ(2,"div",2)(3,"form",3)(4,"div",4),e.YNc(5,ht,1,0,"ng-container",5),e.TgZ(6,"div",6),e._UZ(7,"input",7)(8,"input",8)(9,"cp-team-manager-team-user-form-field",9),e.TgZ(10,"div",10)(11,"fieldset",11)(12,"legend",12),e._uU(13),e.qZA(),e.TgZ(14,"div")(15,"input",13),e.NdJ("change",function(){return n.passwordOptionsChange()}),e.qZA(),e.TgZ(16,"label",14),e._uU(17),e.qZA()(),e.TgZ(18,"div")(19,"input",15),e.NdJ("change",function(){return n.passwordOptionsChange()}),e.qZA(),e.TgZ(20,"label",16),e._uU(21),e.qZA()()(),e._UZ(22,"cp-password",17),e.YNc(23,ft,1,1,"cp-validation-container",18),e.qZA(),e._UZ(24,"cp-team-manager-team-user-form-field",19),e.TgZ(25,"div",10),e._UZ(26,"label",20),e.TgZ(27,"button",21,22),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(32);return e.KtG(n.toggleRoleFeatures(c,n.showRoleFeatures))}),e._uU(29),e._UZ(30,"i",23),e.qZA(),e.TgZ(31,"ng-select",24,25),e.NdJ("change",function(){return n.updateAcknowledgmentStatus(n.createTeamUserForm)}),e.YNc(33,Ot,3,4,"ng-template",26),e.qZA(),e._UZ(34,"cp-validation-container",27)(35,"cp-team-manager-acknowledgment-check",28),e.qZA(),e._UZ(36,"cp-team-manager-team-user-form-field",29),e.TgZ(37,"div",30)(38,"accordion",31)(39,"accordion-group",32,33),e._UZ(41,"cp-team-manager-collapsible-section",34)(42,"cp-team-manager-services-wrapper",28),e.qZA()()(),e.TgZ(43,"div",30)(44,"accordion",31)(45,"accordion-group",35,36),e.NdJ("isOpenChange",function(){e.CHM(o);const c=e.MAs(46);return e.KtG(n.securityAccordionExpanded(c.isOpen))}),e._UZ(47,"cp-team-manager-collapsible-section",34)(48,"cp-team-manager-expire",37),e.qZA()()()(),e.YNc(49,xt,1,0,"ng-container",5),e.qZA()()(),e.TgZ(50,"div",38),e._UZ(51,"cp-team-manager-team-user-help-section")(52,"cp-team-manager-team-user-related-interfaces"),e.qZA(),e.YNc(53,wt,8,2,"ng-template",null,39,e.W1O),e.YNc(55,Mt,7,10,"ng-template",null,40,e.W1O)}if(2&t){const o=e.MAs(40),s=e.MAs(46),c=e.MAs(54),C=e.MAs(56);e.xp6(1),e.Q6J("innerHTML",n.locale.maketext("Create a new team user for your team."),e.oJD),e.xp6(2),e.Q6J("formGroup",n.createTeamUserForm),e.xp6(2),e.Q6J("ngTemplateOutlet",c),e.xp6(4),e.Q6J("control",n.createTeamUserForm.get("username"))("labelText",n.locale.maketext("Username"))("formGroup",n.createTeamUserForm)("inputAddon","@"+n.teamOwnerDomain),e.xp6(4),e.hij(" ",n.locale.maketext("Password")," "),e.xp6(2),e.Q6J("value","email"),e.xp6(2),e.hij(" ",n.locale.maketext("The user will set the account password.")," "),e.xp6(2),e.Q6J("value","set"),e.xp6(2),e.hij(" ",n.locale.maketext("Set the user\u2019s password.")," "),e.xp6(1),e.Q6J("hidden",n.passwordOptionSetToEmail)("id","field-cp-password")("passwordInputName","field-cp-password")("requiresStrengthValidation",!0)("requiredStrength","10")("validateEmptyField",!n.passwordOptionSetToEmail)("formSubmission",n.formSubmit),e.xp6(1),e.Q6J("ngIf",n.createTeamUserForm.errors),e.xp6(1),e.Q6J("showAllHelp",n.showInfoBlocksService.showAllHelp)("control",n.createTeamUserForm.get("contactEmail"))("infoBlockText",n.locale.maketext("The system sends account notifications and password reset confirmations to this email address."))("labelText",n.locale.maketext("Contact Email"))("formGroup",n.createTeamUserForm),e.xp6(2),e.Q6J("innerHtml",n.locale.maketext("Roles (optional)"),e.oJD),e.xp6(3),e.hij(" ",n.roleInfoButtonText," "),e.xp6(2),e.Q6J("items",n.roleList)("closeOnSelect",!1)("multiple",!0)("clearAllText",n.locale.maketext("Clear")),e.xp6(3),e.Q6J("control",n.createTeamUserForm.get("roles")),e.xp6(1),e.Q6J("form",n.createTeamUserForm),e.xp6(1),e.Q6J("control",n.createTeamUserForm.get("notes"))("showAllHelp",n.showInfoBlocksService.showAllHelp)("infoBlockText",n.locale.maketext("Notes you would like to remember about the team user."))("labelText",n.locale.maketext("Notes (optional)"))("formGroup",n.createTeamUserForm),e.xp6(3),e.Q6J("isOpen",!1),e.xp6(2),e.Q6J("isOpen",o.isOpen)("title",n.locale.maketext("Services"))("srCollapse",n.locale.maketext("Collapse services"))("srExpand",n.locale.maketext("Expand services")),e.xp6(1),e.Q6J("form",n.createTeamUserForm),e.xp6(3),e.Q6J("isOpen",!1),e.xp6(2),e.Q6J("isOpen",s.isOpen)("title",n.locale.maketext("Security Settings"))("srCollapse",n.locale.maketext("Collapse security settings"))("srExpand",n.locale.maketext("Expand security settings")),e.xp6(1),e.Q6J("actionVisible",!1)("form",n.createTeamUserForm),e.xp6(1),e.Q6J("ngTemplateOutlet",C)}},dependencies:[p.mk,p.sg,p.O5,p.tP,l._Y,l.Fj,l._,l.JJ,l.JL,l.sg,l.u,y.Zf,y.U_,f.yS,r.fm,A.w9,A.ir,r.Im,se,re,le,ce,pe,me,de],styles:[".base-team-user__section-title{font-size:1rem;margin-bottom:var(--cp-spacer-3);margin-top:var(--cp-spacer-4)}.base-team-user__section-title:first-of-type{margin-top:unset}.base-team-user__set-password-fieldset{display:flex;flex-direction:column;margin-bottom:var(--cp-spacer-2)}.fieldset-password__radio-label{font-weight:400}input[type=radio]:disabled+label{color:#b3bccf}html[dir=ltr] input[type=radio],[dir=ltr] input[type=radio],:host([dir=ltr]) input[type=radio],:host-context(html[dir=ltr]) input[type=radio],:host-context([dir=ltr]) input[type=radio]{margin-right:var(--cp-spacer-1)}html[dir=rtl] input[type=radio],[dir=rtl] input[type=radio],:host([dir=rtl]) input[type=radio],:host-context(html[dir=rtl]) input[type=radio],:host-context([dir=rtl]) input[type=radio]{margin-left:var(--cp-spacer-1)}.base-team-user__description{margin-bottom:var(--cp-spacer-3)}.base-team-user__form-container{padding:0}.roles__features-container{display:grid;grid-template-columns:repeat(auto-fill,180px);padding:var(--cp-spacer-2) 0}.role-feature{padding:var(--cp-spacer-1) 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.roles__ng-select--custom{position:relative}.roles__show-info-button{position:absolute;top:-25px}html[dir=ltr] .roles__show-info-button,[dir=ltr] .roles__show-info-button,:host([dir=ltr]) .roles__show-info-button,:host-context(html[dir=ltr]) .roles__show-info-button,:host-context([dir=ltr]) .roles__show-info-button{right:0}html[dir=rtl] .roles__show-info-button,[dir=rtl] .roles__show-info-button,:host([dir=rtl]) .roles__show-info-button,:host-context(html[dir=rtl]) .roles__show-info-button,:host-context([dir=rtl]) .roles__show-info-button{left:0}.base-team-user__fieldset-legend{display:inline-block;font-size:unset;border:none;font-weight:600;margin:0 0 var(--cp-spacer-1)}.row-expand-container{display:inline}.base-team-user__panel-footer{display:flex;justify-content:space-between}.base-team-user__action-button{display:flex;align-items:center}.base-team-user__action-button-icon{align-self:normal}html[dir=ltr] .base-team-user__action-button-icon,[dir=ltr] .base-team-user__action-button-icon,:host([dir=ltr]) .base-team-user__action-button-icon,:host-context(html[dir=ltr]) .base-team-user__action-button-icon,:host-context([dir=ltr]) .base-team-user__action-button-icon{margin-right:var(--cp-spacer-1)}html[dir=rtl] .base-team-user__action-button-icon,[dir=rtl] .base-team-user__action-button-icon,:host([dir=rtl]) .base-team-user__action-button-icon,:host-context(html[dir=rtl]) .base-team-user__action-button-icon,:host-context([dir=rtl]) .base-team-user__action-button-icon{margin-left:var(--cp-spacer-1)}.base-team-user__accordion-group-panel{margin-bottom:0}\n"],encapsulation:2}),i})();const Tt=["ngSelect"],kt=["showRoleFeaturesButton"],St=["infoBlockChild"];function At(i,a){1&i&&e.GkF(0)}function yt(i,a){if(1&i&&e._UZ(0,"cp-validation-container",36),2&i){const t=e.oxw();e.Q6J("control",t.editTeamUserForm)}}function Ut(i,a){1&i&&e._UZ(0,"cp-icon",37)}function Zt(i,a){if(1&i&&e._UZ(0,"span",42),2&i){const t=a.$implicit;e.Q6J("title",t)("innerHtml",t,e.oJD)}}function Ft(i,a){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Zt,1,2,"span",41),e.qZA()),2&i){const t=e.oxw().item;e.xp6(1),e.Q6J("ngForOf",t.features)}}function Jt(i,a){if(1&i&&(e._UZ(0,"input",38),e._uU(1),e.YNc(2,Ft,2,1,"div",39)),2&i){const t=a.item,n=a.item$,o=e.oxw();e.MGl("id","item-",t.title,""),e.Q6J("checked",n.selected),e.xp6(1),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("ngIf",o.showRoleFeatures)}}function qt(i,a){1&i&&e.GkF(0)}function Et(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",44),e._uU(2),e.qZA(),e.TgZ(3,"div",45)(4,"button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleAllInfoBlocks())}),e._uU(5),e._UZ(6,"i",20),e.qZA()(),e._UZ(7,"div",47),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.hij(" ",t.locale.maketext("Edit a Team User")," "),e.xp6(3),e.hij(" ",t.locale.maketext("Show/Hide Help")," ")}}const Qt=function(i){return{"fa-spin":i,"base-team-user__action-button-icon":!0}};function Dt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submitEditUser())}),e._UZ(2,"cp-icon",50),e._uU(3),e.qZA(),e.TgZ(4,"a",51),e._UZ(5,"i",52),e._uU(6),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.editUserLoading)("title",t.locale.maketext("Update the team user account.")),e.xp6(1),e.s9C("name",t.editUserLoading?"refresh-line":"add-fill"),e.Q6J("ngClass",e.VKq(8,Qt,t.editUserLoading)),e.xp6(1),e.hij(" ",t.locale.maketext("Save")," "),e.xp6(1),e.Q6J("routerLink","/"),e.xp6(1),e.Q6J("ngClass",t.returnArrowDir),e.xp6(1),e.hij(" ",t.locale.maketext("Go Back")," ")}}let Lt=(()=>{class i extends ae{constructor(t,n,o,s,c,C,q,E,Q,R){super(t,n,o,s),this.locale=t,this.renderer=n,this.showInfoBlocksService=o,this.teamOwnerDomain=s,this.mapApiService=c,this.apiService=C,this.alertService=q,this.formBuilder=E,this.router=Q,this.activatedRoute=R,this.editUserLoading=!1,this.resetPasswordLoading=!1,this.editUserInit(),this.setNotesValidators(this.editTeamUserForm),this.setContactEmailValidators(this.editTeamUserForm),this.setAcknowledgmentValidators(this.editTeamUserForm)}ngAfterViewInit(){this.setShowFeaturesButtonPosition(this.ngSelect,this.showRoleFeaturesButton)}getMappedRoles(){return this.teamUser.roles?this.teamUser.roles.split(", ").map(t=>this.roleList.find(n=>n.title===t).id):[]}submitEditUser(){this.formSubmit.next(!0),this.editTeamUserForm.valid?(this.editUserLoading=!0,this.apiService.editUser({...this.editTeamUserForm.value,username:this.editTeamUserForm.get("username").value}).pipe((0,x.q)(1),(0,P.x)(()=>{this.editUserLoading=!1})).subscribe(()=>{this.alertService.success(`\n                    ${this.locale.maketext("You have successfully edited the settings for team user \u201c[_1]\u201d.",this.username)}\n                    ${this.mapApiService.getExpireSuccessMessage(this.editTeamUserForm.get("username").value,this.editTeamUserForm.get("expireDate").disabled?void 0:this.editTeamUserForm.get("expireDate").value)}\n                `),this.router.navigate([m.list])},t=>{const n=this.mapApiService.mapErrorIfDateExists(t);this.alertService.error(n)})):this.editTeamUserForm.markAllAsTouched()}resetPassword(){this.resetPasswordLoading=!0,this.apiService.passwordReset(this.username).pipe((0,x.q)(1),(0,P.x)(()=>{this.resetPasswordLoading=!1})).subscribe(()=>{this.alertService.success(this.locale.maketext("A password reset email was sent to \u201c[_1]\u201d.",this.teamUser.contactEmail))},t=>{this.alertService.error(t.message)})}editUserInit(){const t=JSON.parse(localStorage.getItem("teamData"));this.username=this.activatedRoute.snapshot.paramMap.get("id"),this.teamUser=t.find(o=>o.username===this.username);const n={validators:g.HB.equalTo(this.locale.maketext("The username cannot be the same as the password."),"username","password"),updateOn:"blur"};this.editTeamUserForm=this.formBuilder.group({username:[{value:this.teamUser.username,disabled:!0}],notes:[this.teamUser.notes||""],password:[""],expireDate:[{value:this.teamUser.expireDate||null,disabled:this.teamUser.expireDate},{updateOn:"change"}],expireReason:[{value:this.teamUser.expireReason||"",disabled:this.teamUser.expireDate}],contactEmail:[this.teamUser.contactEmail],roles:[this.getMappedRoles(),{updateOn:"change"}],acknowledgment:[{value:!1,disabled:!0},{updateOn:"change"}]},n),this.initialRoles=this.editTeamUserForm.get("roles").value}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g),e.Y36(e.Qsj),e.Y36(F),e.Y36(U),e.Y36(T),e.Y36(M),e.Y36(r.c9),e.Y36(l.QS),e.Y36(f.F0),e.Y36(f.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-edit-team-user"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Tt,5),e.Gf(kt,5),e.Gf(St,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.ngSelect=o.first),e.iGM(o=e.CRH())&&(n.showRoleFeaturesButton=o.first),e.iGM(o=e.CRH())&&(n.infoBlockElements=o)}},features:[e.qOj],decls:53,vars:51,consts:[[1,"row","base-team-user__description"],[1,"col-sm-8","col-md-9",3,"innerHTML"],[1,"col-xs-12","col-sm-8","col-md-6","base-team-user__form-container"],["autocomplete","off",1,"form-layout-medium",3,"formGroup"],[1,"panel","panel-default"],[4,"ngTemplateOutlet"],[1,"team-user-form","panel-body"],["id","username","element","input","controlName","username",3,"control","labelText","formGroup","inputAddon"],[1,"form-group"],[1,"base-team-user__set-password-fieldset"],["id","fieldset-password",1,"base-team-user__fieldset-legend",3,"innerHtml"],["formControlName","password",3,"id","passwordInputName","requiresStrengthValidation","validateEmptyField","placeholder","requiredStrength","formSubmission"],["id","equality_validation-container",3,"control",4,"ngIf"],[3,"innerHtml"],["id","edit-team-user__reset-password",1,"btn","btn-outline-primary","base-team-user__action-button",3,"disabled","click"],["class","base-team-user__action-button-icon fa-spin","name","refresh-line","aria-hidden","true",4,"ngIf"],["id","email","element","input","controlName","contactEmail",3,"showAllHelp","control","infoBlockText","labelText","formGroup"],["for","roles__ng-select",3,"innerHtml"],["id","roles__show-info-button",1,"btn","btn-link","btn-xs","roles__show-info-button",3,"click"],["showRoleFeaturesButton",""],[1,"far","fa-question-circle","form-info-sign"],["bindLabel","title","bindValue","id","labelForId","roles__ng-select","formControlName","roles",1,"roles__ng-select--custom",3,"items","closeOnSelect","multiple","clearAllText","change"],["ngSelect",""],["ng-option-tmp",""],["id","roles_validation-container",3,"control"],[3,"form"],["id","notes","element","textarea","controlName","notes",3,"showAllHelp","control","infoBlockText","labelText","formGroup"],[1,"row"],[1,"base-team-user__accordion-group-panel"],["panelClass","custom-class",3,"isOpen"],["servicesAccordion",""],["accordion-heading","",3,"isOpen","title","srCollapse","srExpand"],["securityAccordion",""],[1,"col-xs-12","col-sm-4","col-md-3"],["panelHeading",""],["panelFooter",""],["id","equality_validation-container",3,"control"],["name","refresh-line","aria-hidden","true",1,"base-team-user__action-button-icon","fa-spin"],["type","checkbox",3,"id","checked"],["class","roles__features-container",4,"ngIf"],[1,"roles__features-container"],["class","role-feature",3,"title","innerHtml",4,"ngFor","ngForOf"],[1,"role-feature",3,"title","innerHtml"],[1,"panel-heading"],[1,"widget-title","pull-left","flip"],[1,"pull-right","flip"],["type","button","id","link-show-hide-help",1,"btn","btn-default","btn-xs",3,"click"],[1,"clearfix"],[1,"panel-footer","base-team-user__panel-footer"],["id","edit-user","type","submit",1,"btn","btn-sm","btn-primary","base-team-user__action-button",3,"disabled","title","click"],["aria-hidden","true",3,"ngClass","name"],["id","go-back",1,"btn","btn-link","flip",3,"routerLink"],["aria-hidden","true",1,"fas",3,"ngClass"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e._UZ(1,"p",1),e.qZA(),e.TgZ(2,"div",2)(3,"form",3)(4,"div",4),e.YNc(5,At,1,0,"ng-container",5),e.TgZ(6,"div",6),e._UZ(7,"cp-team-manager-team-user-form-field",7),e.TgZ(8,"div",8)(9,"fieldset",9),e._UZ(10,"legend",10),e.qZA(),e._UZ(11,"cp-password",11),e.YNc(12,yt,1,1,"cp-validation-container",12),e.qZA(),e.TgZ(13,"div",8),e._UZ(14,"label",13),e.TgZ(15,"div")(16,"button",14),e.NdJ("click",function(){return n.resetPassword()}),e.YNc(17,Ut,1,0,"cp-icon",15),e.TgZ(18,"span"),e._uU(19),e.qZA()()()(),e._UZ(20,"cp-team-manager-team-user-form-field",16),e.TgZ(21,"div",8),e._UZ(22,"label",17),e.TgZ(23,"button",18,19),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(28);return e.KtG(n.toggleRoleFeatures(c,n.showRoleFeatures))}),e._uU(25),e._UZ(26,"i",20),e.qZA(),e.TgZ(27,"ng-select",21,22),e.NdJ("change",function(){return n.updateAcknowledgmentStatus(n.editTeamUserForm,n.initialRoles)}),e.YNc(29,Jt,3,4,"ng-template",23),e.qZA(),e._UZ(30,"cp-validation-container",24)(31,"cp-team-manager-acknowledgment-check",25),e.qZA(),e._UZ(32,"cp-team-manager-team-user-form-field",26),e.TgZ(33,"div",27)(34,"accordion",28)(35,"accordion-group",29,30),e._UZ(37,"cp-team-manager-collapsible-section",31)(38,"cp-team-manager-services-wrapper",25),e.qZA()()(),e.TgZ(39,"div",27)(40,"accordion",28)(41,"accordion-group",29,32),e._UZ(43,"cp-team-manager-collapsible-section",31)(44,"cp-team-manager-expire",25),e.qZA()()()(),e.YNc(45,qt,1,0,"ng-container",5),e.qZA()()(),e.TgZ(46,"div",33),e._UZ(47,"cp-team-manager-team-user-help-section")(48,"cp-team-manager-team-user-related-interfaces"),e.qZA(),e.YNc(49,Et,8,2,"ng-template",null,34,e.W1O),e.YNc(51,Dt,7,10,"ng-template",null,35,e.W1O)}if(2&t){const o=e.MAs(36),s=e.MAs(42),c=e.MAs(50),C=e.MAs(52);e.xp6(1),e.Q6J("innerHTML",n.locale.maketext("Edit user \u201c[_1]\u201d.",n.teamUser.username),e.oJD),e.xp6(2),e.Q6J("formGroup",n.editTeamUserForm),e.xp6(2),e.Q6J("ngTemplateOutlet",c),e.xp6(2),e.Q6J("control",n.username)("labelText",n.locale.maketext("Username"))("formGroup",n.editTeamUserForm)("inputAddon","@"+n.teamOwnerDomain),e.xp6(3),e.Q6J("innerHtml",n.locale.maketext("New Password (optional)"),e.oJD),e.xp6(1),e.Q6J("id","field-cp-password")("passwordInputName","field-cp-password")("requiresStrengthValidation",!0)("validateEmptyField",!1)("placeholder",n.locale.maketext("Enter a new password"))("requiredStrength","10")("formSubmission",n.formSubmit),e.xp6(1),e.Q6J("ngIf",n.editTeamUserForm.errors),e.xp6(2),e.Q6J("innerHtml",n.locale.maketext("Reset Password (optional)"),e.oJD),e.xp6(2),e.Q6J("disabled",n.resetPasswordLoading),e.xp6(1),e.Q6J("ngIf",n.resetPasswordLoading),e.xp6(2),e.Oqu(n.locale.maketext("Send A Password Reset Email")),e.xp6(1),e.Q6J("showAllHelp",n.showInfoBlocksService.showAllHelp)("control",n.editTeamUserForm.get("contactEmail"))("infoBlockText",n.locale.maketext("The system sends account notifications and password reset confirmations to this email address."))("labelText",n.locale.maketext("Contact Email"))("formGroup",n.editTeamUserForm),e.xp6(2),e.Q6J("innerHtml",n.locale.maketext("Roles (optional)"),e.oJD),e.xp6(3),e.hij(" ",n.roleInfoButtonText," "),e.xp6(2),e.Q6J("items",n.roleList)("closeOnSelect",!1)("multiple",!0)("clearAllText",n.locale.maketext("Clear")),e.xp6(3),e.Q6J("control",n.editTeamUserForm.get("roles")),e.xp6(1),e.Q6J("form",n.editTeamUserForm),e.xp6(1),e.Q6J("showAllHelp",n.showInfoBlocksService.showAllHelp)("control",n.editTeamUserForm.get("notes"))("infoBlockText",n.locale.maketext("Notes you would like to remember about the team user."))("labelText",n.locale.maketext("Notes (optional)"))("formGroup",n.editTeamUserForm),e.xp6(3),e.Q6J("isOpen",!0),e.xp6(2),e.Q6J("isOpen",o.isOpen)("title",n.locale.maketext("Services"))("srCollapse",n.locale.maketext("Collapse services"))("srExpand",n.locale.maketext("Expand services")),e.xp6(1),e.Q6J("form",n.editTeamUserForm),e.xp6(3),e.Q6J("isOpen",!0),e.xp6(2),e.Q6J("isOpen",s.isOpen)("title",n.locale.maketext("Security Settings"))("srCollapse",n.locale.maketext("Collapse security settings"))("srExpand",n.locale.maketext("Expand security settings")),e.xp6(1),e.Q6J("form",n.editTeamUserForm),e.xp6(1),e.Q6J("ngTemplateOutlet",C)}},dependencies:[p.mk,p.sg,p.O5,p.tP,l._Y,l.JJ,l.JL,l.sg,l.u,y.Zf,y.U_,f.yS,r.fm,A.w9,A.ir,r.Im,se,re,le,ce,pe,me,de],styles:[".base-team-user__section-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:var(--cp-spacer-3);margin-top:var(--cp-spacer-4)}.base-team-user__section-title[_ngcontent-%COMP%]:first-of-type{margin-top:unset}.base-team-user__set-password-fieldset[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:var(--cp-spacer-2)}.fieldset-password__radio-label[_ngcontent-%COMP%]{font-weight:400}input[type=radio][_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]{color:#b3bccf}html[dir=ltr][_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-left:var(--cp-spacer-1)}.base-team-user__description[_ngcontent-%COMP%]{margin-bottom:var(--cp-spacer-3)}.base-team-user__form-container[_ngcontent-%COMP%]{padding:0}.roles__features-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,180px);padding:var(--cp-spacer-2) 0}.role-feature[_ngcontent-%COMP%]{padding:var(--cp-spacer-1) 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.roles__ng-select--custom[_ngcontent-%COMP%]{position:relative}.roles__show-info-button[_ngcontent-%COMP%]{position:absolute;top:-25px}html[dir=ltr][_ngcontent-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .roles__show-info-button[_ngcontent-%COMP%]{left:0}.base-team-user__fieldset-legend[_ngcontent-%COMP%]{display:inline-block;font-size:unset;border:none;font-weight:600;margin:0 0 var(--cp-spacer-1)}.row-expand-container[_ngcontent-%COMP%]{display:inline}.base-team-user__panel-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.base-team-user__action-button[_ngcontent-%COMP%]{display:flex;align-items:center}.base-team-user__action-button-icon[_ngcontent-%COMP%]{align-self:normal}html[dir=ltr][_ngcontent-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%]{margin-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .base-team-user__action-button-icon[_ngcontent-%COMP%]{margin-left:var(--cp-spacer-1)}.base-team-user__accordion-group-panel[_ngcontent-%COMP%]{margin-bottom:0}"]}),i})();var Nt=d(8505),It=d(2722),Yt=d(3900);let _e=(()=>{class i{constructor(t){this.locale=t}getListTeamTableHeaders(){return[{key:"username",label:this.locale.maketext("Username"),sortable:!0},{key:"roles",label:this.locale.maketext("Roles"),sortable:!0,classes:"hidden-xs"},{key:"lastLoginDate",label:this.locale.maketext("Last Login Date"),sortable:!0,classes:"hidden-xs hidden-sm hidden-md"},{key:"services",label:this.locale.maketext("Services"),sortable:!0,classes:"hidden-xs"},{key:"actions",label:this.locale.maketext("Actions"),sortable:!1}]}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.g))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var J=(()=>((J||(J={})).warning="warning",J))();const Bt=function(i){return{warning:i}};let Rt=(()=>{class i{constructor(){this.badgeColor=J}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-badge"]],inputs:{color:"color",content:"content"},decls:2,vars:4,consts:[[1,"c-pill",3,"ngClass"]],template:function(t,n){1&t&&(e.TgZ(0,"span",0),e._uU(1),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(2,Bt,n.color===n.badgeColor.warning)),e.xp6(1),e.Oqu(n.content))},dependencies:[p.mk],styles:[".c-pill[_ngcontent-%COMP%]{font-size:.875rem;display:block;white-space:nowrap;width:auto;position:relative;border-radius:.25rem;overflow:hidden;padding:0 var(--cp-spacer-2);text-overflow:ellipsis;line-height:1.25rem;color:#fff;word-break:break-word}.warning[_ngcontent-%COMP%]{background:#e0a800}"]}),i})(),Gt=(()=>{class i{constructor(t,n,o,s){this.locale=t,this.alertService=n,this.teamManagerApiService=o,this.window=s,this.deleteSuccess=new e.vpe,this.deleteButtonState=r.FP.enabled}deleteUser(){this.deleteButtonState=r.FP.loading,this.window.mixpanel?.track("ManageTeam-DeletePanel-DeleteUser-Clicked"),this.teamManagerApiService.deleteUser(this.teamUser.username).pipe((0,x.q)(1),(0,P.x)(()=>{this.deleteButtonState=r.FP.enabled})).subscribe({next:()=>{this.teamUser.detailsVisible=!1,this.teamUser.showDeletePrompt=!1,this.alertService.success(this.locale.maketext("Team user account \u201c[_1]\u201d deleted.",this.teamUser.username)),this.deleteSuccess.emit()},error:t=>{this.alertService.error(t.message)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g),e.Y36(r.c9),e.Y36(M),e.Y36(Window))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-delete-panel"]],inputs:{teamUser:"teamUser"},outputs:{deleteSuccess:"deleteSuccess"},decls:16,vars:10,consts:[[1,"list-panel"],[1,"delete-warning"],[1,"display-table"],[1,"display-table-cell"],[1,"delete-question-mark"],[1,"box"],[1,"delete-message","wordbreak",3,"innerHtml"],["id","delete-message-description",3,"innerHtml"],[3,"buttonState","buttonClass","id","title","click"],["aria-hidden","true",1,"fas","fa-trash"],["type","button",1,"btn","btn-link","btn-sm",3,"id","disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"?"),e.qZA()(),e.TgZ(6,"div",3)(7,"div",5),e._UZ(8,"span",6)(9,"p",7),e.qZA(),e.TgZ(10,"div",5)(11,"cp-action-button",8),e.NdJ("click",function(){return n.deleteUser()}),e._UZ(12,"i",9),e._uU(13),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return n.teamUser.showDeletePrompt=!1}),e._uU(15),e.qZA()()()()()()),2&t&&(e.xp6(8),e.Q6J("innerHtml",n.locale.maketext("Are you sure about deleting \u201c[_1]\u201d?",n.teamUser.username),e.oJD),e.xp6(1),e.Q6J("innerHtml",n.locale.maketext("When you delete a team user account, we permanently delete [output,strong,all] of the account\u2019s data."),e.oJD),e.xp6(2),e.MGl("id","delete-team-user__btn-confirm--",n.teamUser.username,""),e.s9C("title",n.locale.maketext("Delete")),e.Q6J("buttonState",n.deleteButtonState)("buttonClass","btn-primary btn-sm"),e.xp6(2),e.hij(" ",n.locale.maketext("Delete")," "),e.xp6(1),e.MGl("id","delete-team-user__btn-cancel--",n.teamUser.username,""),e.Q6J("disabled",n.teamUser.deleteInProcess),e.xp6(1),e.hij(" ",n.locale.maketext("Cancel")," "))},dependencies:[r.xV],styles:["html[dir=ltr][_ngcontent-%COMP%]   .list-panel[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .list-panel[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%]{padding-left:0}html[dir=rtl][_ngcontent-%COMP%]   .list-panel[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .list-panel[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .list-panel[_ngcontent-%COMP%]{padding-right:0}"]}),i})();function Ht(i,a){1&i&&e._UZ(0,"cp-icon",3)}function zt(i,a){if(1&i&&e._UZ(0,"cp-icon",4),2&i){const t=e.oxw();e.Q6J("name",t.teamUser.suspended?"lock-unlock-fill":"lock-fill")}}const Vt=function(i,a){return{"btn btn-sm btn-outline-primary":!0,"hidden-xs hidden-sm":i,"hidden-md hidden-lg":a}};let $t=(()=>{class i{constructor(t,n,o,s){this.teamManagerApiService=t,this.alertService=n,this.window=o,this.locale=s,this.suspendStatusChangeSuccess=new e.vpe,this.suspendButtonState=r.FP.enabled,this.actionButtonState=r.FP}suspendUser(t){this.suspendButtonState=r.FP.loading,this.window.mixpanel?.track("ManageTeam-SuspendTeamUser-Suspend-Clicked"),this.teamManagerApiService.suspendUser(t.username).pipe((0,x.q)(1),(0,P.x)(()=>{this.suspendButtonState=r.FP.enabled})).subscribe({next:()=>{this.alertService.success(this.locale.maketext("Team User \u201c[_1]\u201d is now suspended.",t.username)),this.suspendStatusChangeSuccess.emit()},error:n=>{this.alertService.error(n.message)}})}unsuspendUser(t){this.suspendButtonState=r.FP.loading,this.window.mixpanel?.track("ManageTeam-UnsuspendTeamUser-Suspend-Clicked"),this.teamManagerApiService.reinstateUser(t.username).pipe((0,x.q)(1),(0,P.x)(()=>{this.suspendButtonState=r.FP.enabled})).subscribe({next:()=>{this.alertService.success(this.locale.maketext("Team User \u201c[_1]\u201d is no longer suspended.",t.username)),this.suspendStatusChangeSuccess.emit()},error:n=>{this.alertService.error(n.message)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(M),e.Y36(r.c9),e.Y36(Window),e.Y36(u.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-suspend-team-user"]],inputs:{teamUser:"teamUser",isDetailedView:"isDetailedView"},outputs:{suspendStatusChangeSuccess:"suspendStatusChangeSuccess"},decls:5,vars:9,consts:[[3,"id","ngClass","disabled","click"],["class","suspend-team-user__action-icon fa-spin","name","refresh-line","aria-hidden","true",4,"ngIf"],["class","suspend-team-user__action-icon","aria-hidden","true",3,"name",4,"ngIf"],["name","refresh-line","aria-hidden","true",1,"suspend-team-user__action-icon","fa-spin"],["aria-hidden","true",1,"suspend-team-user__action-icon",3,"name"]],template:function(t,n){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return n.teamUser.suspended?n.unsuspendUser(n.teamUser):n.suspendUser(n.teamUser)}),e.YNc(1,Ht,1,0,"cp-icon",1),e.YNc(2,zt,1,1,"cp-icon",2),e.TgZ(3,"span"),e._uU(4),e.qZA()()),2&t&&(e.MGl("id","suspend-team-user__button--",n.teamUser.username,""),e.Q6J("ngClass",e.WLB(6,Vt,!n.isDetailedView,n.isDetailedView))("disabled",n.suspendButtonState===n.actionButtonState.loading),e.xp6(1),e.Q6J("ngIf",n.suspendButtonState===n.actionButtonState.loading),e.xp6(1),e.Q6J("ngIf",n.suspendButtonState!==n.actionButtonState.loading),e.xp6(2),e.Oqu(n.locale.maketext(n.teamUser.suspended?"Unsuspend":"Suspend")))},dependencies:[p.mk,p.O5],styles:[".suspend-team-user__action-icon[_ngcontent-%COMP%]{padding:0}html[dir=ltr][_ngcontent-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%]{margin:0 var(--cp-spacer-1) 0 0}html[dir=rtl][_ngcontent-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .suspend-team-user__action-icon[_ngcontent-%COMP%]{margin:0 0 0 var(--cp-spacer-1)}"]}),i})();function jt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ul",28)(1,"li",29)(2,"div")(3,"cp-page-size-selector",30),e.NdJ("optionSelected",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.pageSizeChange(o))}),e.qZA()()(),e._UZ(4,"li",31),e.TgZ(5,"li",29)(6,"a",32),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getListOfTeamUsers())}),e._UZ(7,"i",33),e._uU(8),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("pageSizeOptions",t.tableService.pageSizes)("selectedPageSize",t.tableService.pagination.pageSize),e.xp6(5),e.hij(" ",t.locale.maketext("Refresh")," ")}}function Wt(i,a){if(1&i&&e._UZ(0,"i",40),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.ekj("icon-arrow-up",n.tableService.sortedInAscendingOrder())("icon-arrow-down",!n.tableService.sortedInAscendingOrder()),e.uIk("title",t.label)}}const Kt=function(i){return{"column-button btn btn-link p-0":!0,"list-team__username-header":i}};function Xt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.changeSort(o.key))}),e.TgZ(1,"span",38),e._uU(2),e.qZA(),e.YNc(3,Wt,1,5,"i",39),e.qZA()}if(2&i){const t=e.oxw().$implicit,n=e.oxw();e.MGl("id","column-button__",t.key,""),e.Q6J("ngClass",e.VKq(4,Kt,"username"===t.key)),e.xp6(2),e.Oqu(t.label),e.xp6(1),e.Q6J("ngIf",t.key===n.tableService.getSortColumn())}}function en(i,a){if(1&i&&(e.TgZ(0,"span",38),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.label)}}const tn=function(i){return{width:i}};function nn(i,a){if(1&i&&(e.TgZ(0,"th",34),e.YNc(1,Xt,4,6,"button",35),e.YNc(2,en,2,1,"span",36),e.qZA()),2&i){const t=a.$implicit,n=e.oxw();e.Q6J("ngStyle",e.VKq(4,tn,100/n.columns.length+"%"))("ngClass",t.classes),e.xp6(1),e.Q6J("ngIf",t.sortable),e.xp6(1),e.Q6J("ngIf",!t.sortable)}}function on(i,a){if(1&i&&(e.TgZ(0,"tr",41)(1,"td"),e._UZ(2,"span",42),e._uU(3," \xa0 "),e.TgZ(4,"span",43),e._uU(5),e.qZA()()()),2&i){const t=e.oxw();e.xp6(1),e.uIk("colspan",t.emptyRowColSpan),e.xp6(4),e.Oqu(t.locale.maketext("Loading \u2026"))}}function an(i,a){if(1&i&&(e.TgZ(0,"tr",44)(1,"td"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.uIk("colspan",t.emptyRowColSpan),e.xp6(1),e.Oqu(t.noResultsMessage)}}function sn(i,a){if(1&i&&(e.TgZ(0,"span",62),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",n[t.key]||""," ")}}function rn(i,a){if(1&i&&e._UZ(0,"cp-team-manager-badge",63),2&i){const t=e.oxw(4).$implicit,n=e.oxw();e.Q6J("color",n.badgeColor.warning)("content",t.badgeText)}}const ln=function(i,a){return{"fa-chevron-down":i,"fa-chevron-right":a}};function cn(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",55)(2,"span",56)(3,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,s=e.oxw();return e.KtG(s.toggleTeamUserDetails(o))}),e._UZ(4,"span",58)(5,"i",59),e.qZA()(),e.YNc(6,sn,2,1,"span",60),e.YNc(7,rn,1,2,"cp-team-manager-badge",61),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(2).$implicit,o=e.oxw();e.xp6(3),e.MGl("id","toggleRollDown_",n[t.key],""),e.xp6(1),e.Q6J("innerHTML",o.locale.maketext(n.detailsVisible?"Expand details":"Collapse details"),e.oJD),e.xp6(1),e.Q6J("ngClass",e.WLB(5,ln,n.detailsVisible,!n.detailsVisible)),e.xp6(1),e.Q6J("ngIf","actions"!==(null==t?null:t.key)),e.xp6(1),e.Q6J("ngIf","username"===t.key&&(n.suspended||n.expired))}}function pn(i,a){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",n[t.key]," ")}}const mn=function(i){return{$implicit:i,isDetailedView:!1}};function dn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",64)(1,"button",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,s=e.oxw();return e.KtG(s.goToEdit(o))}),e._UZ(2,"cp-icon",66),e._uU(3),e.qZA(),e.TgZ(4,"cp-team-manager-suspend-team-user",67),e.NdJ("suspendStatusChangeSuccess",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.suspendStatusChangeHandler())}),e.qZA(),e.GkF(5,68),e.qZA()}if(2&i){const t=e.oxw(3).$implicit,n=e.oxw(),o=e.MAs(34);e.xp6(3),e.hij(" ",n.locale.maketext("Edit User")," "),e.xp6(1),e.Q6J("isDetailedView",!1)("teamUser",t),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(5,mn,t))}}function _n(i,a){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw(2).$implicit;e.xp6(1),e.Oqu(n[t.key]||"")}}function un(i,a){if(1&i&&(e.TgZ(0,"td",50),e.ynx(1,51),e.YNc(2,cn,8,8,"ng-container",52),e.YNc(3,pn,2,1,"ng-container",52),e.YNc(4,dn,6,7,"div",53),e.YNc(5,_n,2,1,"ng-container",54),e.BQk(),e.qZA()),2&i){const t=a.$implicit,n=e.oxw(2).$implicit;e.Q6J("ngClass",t.classes)("id","list-team__column-"+t.key+"--"+n.username),e.xp6(1),e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","username"),e.xp6(1),e.Q6J("ngSwitchCase","roles"),e.xp6(1),e.Q6J("ngSwitchCase","actions")}}const gn=function(i){return{"warning--background":i}};function hn(i,a){if(1&i&&(e.TgZ(0,"tr",48),e.YNc(1,un,6,6,"td",49),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("id","main-row-"+t.username)("ngClass",e.VKq(4,gn,t.showDeletePrompt)),e.xp6(1),e.Q6J("ngForOf",n.columns)("ngForTrackBy",n.trackByFn)}}function fn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.BQk()),2&i){const t=e.oxw(3).$implicit;e.xp6(2),e.Oqu(t.suspendDateDetails),e.xp6(2),e.Oqu(t.suspendReasonDetails)}}function Cn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.BQk()),2&i){const t=e.oxw(3).$implicit;e.xp6(2),e.Oqu(t.expireDateDetails),e.xp6(2),e.Oqu(t.expireReasonDetails)}}function bn(i,a){if(1&i&&(e.TgZ(0,"div",71)(1,"p",72),e._uU(2),e.qZA(),e.YNc(3,fn,5,2,"ng-container",74),e.YNc(4,Cn,5,2,"ng-container",74),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij(" ",n.locale.maketext("Restriction Information:")," "),e.xp6(1),e.Q6J("ngIf",t.suspended),e.xp6(1),e.Q6J("ngIf",t.expireDate)}}function On(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"cp-team-manager-delete-panel",75),e.NdJ("deleteSuccess",function(){e.CHM(t);const o=e.oxw(2).$implicit,s=e.oxw();return e.KtG(s.deleteSuccess(o))}),e.qZA()}if(2&i){const t=e.oxw(2).$implicit;e.Q6J("teamUser",t)}}const xn=function(i){return{$implicit:i,isDetailedView:!0}};function wn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"td",69)(1,"div",0),e.YNc(2,bn,5,3,"div",70),e.TgZ(3,"div",71)(4,"p",72),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA()(),e.TgZ(14,"div",71)(15,"p",72),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()(),e.TgZ(21,"div",71)(22,"p",72),e._uU(23),e.qZA(),e.TgZ(24,"p"),e._uU(25),e.qZA()()(),e.TgZ(26,"div")(27,"cp-team-manager-suspend-team-user",67),e.NdJ("suspendStatusChangeSuccess",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.suspendStatusChangeHandler())}),e.qZA(),e.GkF(28,68),e.qZA(),e.YNc(29,On,1,1,"cp-team-manager-delete-panel",73),e.qZA()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(),o=e.MAs(34);e.Q6J("id","details-row-"+t.username),e.xp6(2),e.Q6J("ngIf",t.suspended||t.expireDate),e.xp6(3),e.hij(" ",n.locale.maketext("Account Information"),": "),e.xp6(2),e.Oqu(t.loginDetails),e.xp6(2),e.Oqu(t.notesDetails),e.xp6(2),e.Oqu(t.lastLoginDateDetails),e.xp6(2),e.Oqu(t.createdDetails),e.xp6(3),e.hij(" ",n.locale.maketext("Team Information"),": "),e.xp6(2),e.Oqu(t.rolesDetails),e.xp6(2),e.Oqu(t.servicesDetails),e.xp6(3),e.hij(" ",n.locale.maketext("Security Information"),": "),e.xp6(2),e.Oqu(t.contactEmailDetails),e.xp6(2),e.Q6J("isDetailedView",!0)("teamUser",t),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(17,xn,t)),e.xp6(1),e.Q6J("ngIf",t.showDeletePrompt)}}const vn=function(i,a){return{"wordbreak list-team__details-row":!0,"list-team__details-row--no-border":i,"warning--background":a}};function Mn(i,a){if(1&i&&(e.ynx(0),e.YNc(1,hn,2,6,"tr",45),e.TgZ(2,"tr",46),e.YNc(3,wn,30,19,"td",47),e.qZA(),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.columnKeyExists(t)),e.xp6(1),e.Q6J("ngClass",e.WLB(3,vn,t.detailsVisible,t.showDeletePrompt)),e.xp6(1),e.Q6J("ngIf",t.detailsVisible)}}const Pn=function(i,a){return{"btn btn-sm btn-outline-primary":!0,"hidden-xs hidden-sm":i,"hidden-md hidden-lg":a}};function Tn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deletePrompt(s))}),e._UZ(1,"cp-icon",77),e.TgZ(2,"span",78),e._uU(3),e.qZA()()}if(2&i){const t=a.$implicit,n=a.isDetailedView,o=e.oxw();e.Q6J("id","list-team__delete-user--"+t.username)("ngClass",e.WLB(4,Pn,!n,n))("disabled",t.showDeletePrompt),e.xp6(3),e.Oqu(o.locale.maketext("Delete"))}}let ue=(()=>{class i{constructor(t,n,o,s,c,C,q,E,Q){this.tableService=t,this.locale=n,this.teamTableHeadersService=o,this.teamManagerApiService=s,this.alertService=c,this.router=C,this.window=q,this.mapApiService=E,this.maxTeamUsers=Q,this.badgeColor=J,this.manageTeamRoutes=m,this.updateTable$=new B.x,this.destroy$=new B.x}ngOnInit(){this.getUsedTeamUsersCount(),this.columns=this.teamTableHeadersService.getListTeamTableHeaders(),this.emptyRowColSpan=this.columns?.length+1,this.initializeTableUpdate(),this.updateTable$.next()}ngAfterViewInit(){this.teamManagerApiService.listRoles().pipe((0,x.q)(1)).subscribe(t=>{localStorage.setItem("roleList",JSON.stringify(this.mapApiService.processRoles(t.data[0])))},t=>{this.alertService.error(t.message)})}ngOnDestroy(){this.destroy$.next(!0)}toggleTeamUserDetails(t){t.detailsVisible=!t.detailsVisible}getUsedTeamUsersCount(){this.teamManagerApiService.getTeamUsersCount().pipe((0,x.q)(1)).subscribe({next:t=>{this.usedUsersWithRole=t.data.used},error:t=>{this.alertService.error(t.message)}})}columnKeyExists(t){return this.columns.some(n=>Object.keys(t).includes(n.key))}trackByFn(t){return t}changeSort(t){this.tableService.changeSort(t),this.updateTable$.next()}deletePrompt(t){t.detailsVisible=!0,t.showDeletePrompt=!0}deleteSuccess(t){this.rows=this.rows.filter(n=>n.username!==t.username)}suspendStatusChangeHandler(){this.updateTable$.next()}goToCreate(){this.window.mixpanel?.track("ManageTeam-ListTeam-CreateTeamUser-Clicked"),this.router.navigate([m.create])}goToAuditLog(){this.window.mixpanel?.track("ManageTeam-ListTeam-ViewAuditLog-Clicked"),this.router.navigate([m.auditLog])}goToEdit(t){this.window.mixpanel?.track("ManageTeam-ListTeam-EditUser-Clicked"),this.router.navigate([m.edit,t.username])}filterRows(t){this.tableService.updateSearchFilter("*",t),this.updateTable$.next()}pageChange(t){t.page!==this.tableService.pagination.selectedPage&&(this.tableService.changePage(t.page),this.updateTable$.next())}pageSizeChange(t){this.tableService.updatePageSize(t),this.updateTable$.next()}initializeTableUpdate(){this.updateTable$.pipe((0,Nt.b)(()=>{this.tableService.loading=!0,this.rows=[]}),(0,It.R)(this.destroy$),(0,Yt.w)(()=>this.teamManagerApiService.getTeam(this.tableService.getTableMetadata()))).subscribe(t=>{this.tableService.pagination.totalRecords=t.meta.totalRecords,this.tableService.pagination.recordsBeforeFilter=t.meta.recordsBeforeFilter,this.rows=t.data.map(n=>this.mapApiService.mapTeamUserData(n)),localStorage.setItem("teamData",JSON.stringify(this.rows)),this.tableService.loading=!1,this.noResultsMessage=this.noResultsReason()},t=>{this.alertService.error(t.message),this.tableService.loading=!1,this.noResultsMessage=this.noResultsReason()})}compare(t,n,o){return(t<n?-1:1)*(o?1:-1)}noResultsReason(){const n=this.rows?.length;return this.tableService.loading||n?null:this.noResultsMessage||this.locale.maketext("No results available.")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(u.g),e.Y36(_e),e.Y36(M),e.Y36(r.c9),e.Y36(f.F0),e.Y36(Window),e.Y36(T),e.Y36(X))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-list-team"]],decls:35,vars:25,consts:[[1,"row"],[1,"col-sm-8","col-md-9",3,"innerHTML"],[1,"col-xs-12","col-md-9"],["id","privilege-escalation-callout","calloutType","warning"],[3,"innerHtml"],[1,"col-sm-4","col-md-3","animate-stats"],["id","stats-basic","displayLimit","true",3,"usedValue","limitValue","usedTitle","limitTitle"],[1,"list-team__pagination-container"],[3,"autofocus","debounce","disabled","id","label","valueChange"],[1,"pagination-container"],["id","pagination",3,"disabled","maxPagesVisible","pageSize","selectedPage","totalItems","pageChanged"],[1,"list-team__links"],["id","audit-log",1,"btn","btn-link","btn-sm","list-team__link-with-icon",3,"click"],["aria-hidden","true",1,"ri-file-text-line","ri-xl","list-team__icon"],["id","create-user","id","new-user",1,"btn","btn-sm","btn-primary",3,"click"],["name","add-fill","aria-hidden","true",1,"list-team__action-icon"],["dropdown","","auto-close","outsideClick",1,"btn-group"],["id","table-settings-dropdown","type","button","dropdownToggle","",1,"btn","btn-default","btn-sm","dropdown-toggle","button-bar","page-size-selector_group-icon"],[1,"sr-only"],[1,"ri-md","ri-settings-3-fill"],[1,"ri-arrow-down-s-fill"],["id","table-settings-menu","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","table-settings-dropdown",4,"dropdownMenu"],[1,"table","table-striped"],[3,"ngStyle","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["class","info empty-row","id","loadingRow",4,"ngIf"],["class","info empty-row","id","emptySearchRow",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["deleteAction",""],["id","table-settings-menu","role","menu","aria-labelledby","table-settings-dropdown",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],["id","page-size-selector",3,"pageSizeOptions","selectedPageSize","optionSelected"],[1,"divider"],["id","page-size-selector__refresh",1,"page-size-selector__refresh",3,"click"],[1,"ri-refresh-line"],[3,"ngStyle","ngClass"],[3,"id","ngClass","click",4,"ngIf"],["class","column-label separator",4,"ngIf"],[3,"id","ngClass","click"],[1,"column-label","separator"],["ngClass","column-icon","aria-hidden","true",3,"icon-arrow-up","icon-arrow-down",4,"ngIf"],["ngClass","column-icon","aria-hidden","true"],["id","loadingRow",1,"info","empty-row"],["aria-hidden","true",1,"fas","fa-spinner","fa-spin"],[1,"loading-text"],["id","emptySearchRow",1,"info","empty-row"],["class","list-team__main-row",3,"id","ngClass",4,"ngIf"],[3,"ngClass"],["colspan","7",3,"id",4,"ngIf"],[1,"list-team__main-row",3,"id","ngClass"],[3,"ngClass","id",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass","id"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","list-team__action-items",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"list-team__username-column"],[1,"row-expand-container"],[1,"btn","btn-sm","btn-link",3,"id","click"],[1,"sr-only",3,"innerHTML"],["aria-hidden","true",1,"fas",3,"ngClass"],["class","list-team__td-username",4,"ngIf"],[3,"color","content",4,"ngIf"],[1,"list-team__td-username"],[3,"color","content"],[1,"list-team__action-items"],["id","edit-user",1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","pencil-fill","aria-hidden","true",1,"list-team__action-icon"],[3,"isDetailedView","teamUser","suspendStatusChangeSuccess"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["colspan","7",3,"id"],["class","list-team__details col-lg-3 col-md-6 col-sm-12 col-12",4,"ngIf"],[1,"list-team__details","col-lg-3","col-md-6","col-sm-12","col-12"],[1,"list-team__details-label"],[3,"teamUser","deleteSuccess",4,"ngIf"],[4,"ngIf"],[3,"teamUser","deleteSuccess"],[3,"id","ngClass","disabled","click"],["name","delete-bin-7-fill","aria-hidden","true",1,"list-team__action-icon"],[1,""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p",1),e.TgZ(2,"p",2)(3,"cp-callout",3),e._UZ(4,"span",4),e.qZA()(),e.TgZ(5,"div",5),e._UZ(6,"cp-stats",6),e.qZA()(),e.TgZ(7,"div",7)(8,"cp-search",8),e.NdJ("valueChange",function(s){return n.filterRows(s)}),e.qZA(),e.TgZ(9,"div",9)(10,"cp-pagination",10),e.NdJ("pageChanged",function(s){return n.pageChange(s)}),e.qZA()()(),e.TgZ(11,"div",11)(12,"button",12),e.NdJ("click",function(){return n.goToAuditLog()}),e._UZ(13,"i",13),e._uU(14),e.qZA(),e.TgZ(15,"button",14),e.NdJ("click",function(){return n.goToCreate()}),e._UZ(16,"cp-icon",15),e._uU(17),e.qZA(),e.TgZ(18,"div",16)(19,"button",17)(20,"span",18),e._uU(21),e.qZA(),e._UZ(22,"i",19)(23,"i",20),e.qZA(),e.YNc(24,jt,9,3,"ul",21),e.qZA()(),e.TgZ(25,"table",22)(26,"thead")(27,"tr"),e.YNc(28,nn,3,6,"th",23),e.qZA()(),e.TgZ(29,"tbody"),e.YNc(30,on,6,2,"tr",24),e.YNc(31,an,3,2,"tr",25),e.YNc(32,Mn,4,6,"ng-container",26),e.qZA()(),e.YNc(33,Tn,4,7,"ng-template",null,27,e.W1O)),2&t&&(e.xp6(1),e.Q6J("innerHTML",n.locale.maketext("Manage Team User accounts and view the Audit Log. For more information, read the [output,url,_1,documentation,title,cPanel Documentation,target,_2,class,cp-external-link].","https://go.cpanel.net/manage-team","cPanel docs"),e.oJD),e.xp6(3),e.Q6J("innerHtml",n.locale.maketext("[output,strong,Warning:] This feature grants access to account-level functionality. Only grant this permission to users that you trust to access and modify your account."),e.oJD),e.xp6(2),e.s9C("usedValue",n.usedUsersWithRole||"0"),e.Q6J("limitValue",n.maxTeamUsers)("usedTitle",n.locale.maketext("Users with role"))("limitTitle",n.locale.maketext("Max users with role")),e.xp6(2),e.Q6J("autofocus",!1)("debounce",400)("disabled",!1)("id","list-team")("label",n.locale.maketext("Search")),e.xp6(2),e.Q6J("disabled",n.tableService.pagination.disabled)("maxPagesVisible",n.tableService.pagination.maxPagesVisible||3)("pageSize",n.tableService.pagination.pageSize)("selectedPage",n.tableService.pagination.selectedPage)("totalItems",n.tableService.pagination.totalRecords),e.xp6(4),e.hij(" ",n.locale.maketext("View Audit Log")," "),e.xp6(3),e.hij(" ",n.locale.maketext("Create Team User")," "),e.xp6(4),e.Oqu(n.locale.maketext("Table Settings")),e.xp6(7),e.Q6J("ngForOf",n.columns)("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("ngIf",n.tableService.loading),e.xp6(1),e.Q6J("ngIf",n.noResultsMessage),e.xp6(1),e.Q6J("ngForOf",n.rows)("ngForTrackBy",n.trackByFn))},dependencies:[p.mk,p.sg,p.O5,p.tP,p.PC,p.RF,p.n9,p.ED,h.Hz,h.Mq,h.TO,r.gS,r.k6,r.Qt,r.Oc,r._q,Rt,Gt,$t],styles:[".table[_ngcontent-%COMP%]{border-collapse:separate}.column-button[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;padding:0}.column-button[_ngcontent-%COMP%]:hover > span[_ngcontent-%COMP%]{text-decoration:underline}.column-button[_ngcontent-%COMP%]:focus{outline:none}.column-label[_ngcontent-%COMP%]{display:inline-block}html[dir=ltr][_ngcontent-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .column-label[_ngcontent-%COMP%]{margin-right:var(--cp-spacer-2)}html[dir=rtl][_ngcontent-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .column-label[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .column-label[_ngcontent-%COMP%]{margin-left:var(--cp-spacer-2)}.column-icon[_ngcontent-%COMP%]{top:var(--cp-spacer-2)}thead[_ngcontent-%COMP%]{position:sticky;top:0;background:var(--cp-component-bg, #fff)}thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:0 var(--cp-spacer-2);background:var(--cp-component-bg, #fff);background-clip:content-box}.list-team__pagination-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.search-container[_ngcontent-%COMP%]{min-width:100px;max-width:350px;flex-basis:350px;margin-bottom:var(--cp-spacer-3);flex-grow:1}.pagination-container[_ngcontent-%COMP%]{min-width:max-content}html[dir=ltr][_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=rtl][_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .pagination-container[_ngcontent-%COMP%]{margin-right:auto}  div#pagination>p{margin-top:0}.list-team__links[_ngcontent-%COMP%]{margin-top:var(--cp-spacer-3);margin-bottom:var(--cp-spacer-2);display:flex;justify-content:flex-end;align-items:center}html[dir=ltr][_ngcontent-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), [dir=ltr][_ngcontent-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), [dir=ltr][_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), html[dir=ltr][_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), html[dir=ltr]   [_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), [dir=ltr][_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), [dir=ltr]   [_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:var(--cp-spacer-2)}html[dir=rtl][_ngcontent-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), [dir=rtl][_ngcontent-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), [dir=rtl][_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), html[dir=rtl][_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), html[dir=rtl]   [_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), [dir=rtl][_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child), [dir=rtl]   [_nghost-%COMP%]   .list-team__links[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-left:var(--cp-spacer-2)}.list-team__username-column[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center}html[dir=ltr][_ngcontent-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%]{margin-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .list-team__td-username[_ngcontent-%COMP%]{margin-left:var(--cp-spacer-1)}html[dir=ltr][_ngcontent-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%]{padding-left:var(--cp-spacer-5)}html[dir=rtl][_ngcontent-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .list-team__username-header[_ngcontent-%COMP%]{padding-right:var(--cp-spacer-5)}.list-team__details[_ngcontent-%COMP%]{padding:var(--cp-spacer-2) var(--cp-spacer-3)}.list-team__action-icon[_ngcontent-%COMP%]{padding:0}html[dir=ltr][_ngcontent-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%]{margin:0 var(--cp-spacer-1) 0 0}html[dir=rtl][_ngcontent-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .list-team__action-icon[_ngcontent-%COMP%]{margin:0 0 0 var(--cp-spacer-1)}.list-team__action-button-with-icon[_ngcontent-%COMP%]{padding:.25rem;vertical-align:middle}.list-team__action-items[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.list-team__link-with-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}html[dir=ltr][_ngcontent-%COMP%]   .list-team__icon[_ngcontent-%COMP%], [dir=ltr][_ngcontent-%COMP%]   .list-team__icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%], html[dir=ltr][_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%], [dir=ltr][_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%]{margin-right:var(--cp-spacer-1)}html[dir=rtl][_ngcontent-%COMP%]   .list-team__icon[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .list-team__icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%], html[dir=rtl][_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%], [dir=rtl][_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .list-team__icon[_ngcontent-%COMP%]{margin-left:var(--cp-spacer-1)}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(4n+1), .table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(4n+2){background-color:#f1f1f1}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(4n+3), .table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(4n+4){background-color:#f8f8f8}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr.warning--background[_ngcontent-%COMP%]{background-color:#fff7df}.list-team__details-row--no-border[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0;padding:0 var(--cp-spacer-3) var(--cp-spacer-3) var(--cp-spacer-3)}.list-team__details-label[_ngcontent-%COMP%]{font-weight:700}@media only screen and (max-width: 767px){.list-team__action-items[_ngcontent-%COMP%]{justify-content:flex-end}}"]}),i})();var kn=d(4128),Sn=d(9646),An=d(262);let ge=(()=>{class i{constructor(t,n,o,s){this.locale=t,this.alertService=n,this.mapApiService=o,this.teamManagerApiService=s}canActivate(t,n){const o=localStorage.getItem("roleList")&&localStorage.getItem("teamData");return!!o||(o?void 0:this.fetchTeamManagerData())}fetchTeamManagerData(){return(0,kn.D)([this.teamManagerApiService.listRoles(),this.teamManagerApiService.getTeam()]).pipe((0,b.U)(([t,n])=>{const o=n.data.map(s=>this.mapApiService.mapTeamUserData(s));return localStorage.setItem("teamData",JSON.stringify(o)),localStorage.setItem("roleList",JSON.stringify(this.mapApiService.processRoles(t.data[0]))),!0}),(0,An.K)(()=>{const t=this.locale.maketext("Could not load all information required to access this page."),n=this.locale.maketext("If this condition persists, contact your system administrator.");return this.alertService.error(`${t} ${n}`),(0,Sn.of)(!1)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.g),e.LFG(r.c9),e.LFG(T),e.LFG(M))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const yn=[{path:m.create,component:Pt,canActivate:[ge],data:{breadcrumb:{id:m.create}}},{path:`${m.edit}/:id`,component:Lt,canActivate:[ge],data:{breadcrumb:{id:m.edit}}},{path:m.auditLog,component:qe,data:{breadcrumb:{id:m.auditLog}}},{path:m.list,component:ue,data:{breadcrumb:{id:m.list}}},{path:"",redirectTo:`/${m.list}`,pathMatch:"full"},{path:"**",component:ue,pathMatch:"full"}];let Un=(()=>{class i{constructor(t,n){this.locale=t,this.breadcrumbService=n;const o={[m.create]:{displayName:t.maketext("Create a Team User"),id:m.create,link:t.maketext("Go to the Create a Team User interface."),longName:t.maketext("Create a Team User"),path:`/${m.create}`,parentId:m.list},[m.edit]:{displayName:t.maketext("Edit a Team User"),id:m.edit,link:t.maketext("Go to the Edit a Team User interface."),longName:t.maketext("Edit a Team User"),path:`/${m.edit}`,parentId:m.list},[m.list]:{displayName:t.maketext("List Team"),id:m.list,link:t.maketext("Go to the List Team interface."),longName:t.maketext("List Team"),path:`/${m.list}`,parentId:""},[m.auditLog]:{displayName:t.maketext("Audit Log"),id:m.auditLog,link:t.maketext("Go to the Audit Log interface."),longName:t.maketext("Audit Log"),path:`/${m.auditLog}`,parentId:m.list}};this.breadcrumbService.initializeBreadcrumbs(),this.breadcrumbService.flattenedRoutesData=Object.values(o)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.g),e.LFG(r.pm))},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.Bz.forRoot(yn,{useHash:!0,relativeLinkResolution:"legacy"}),f.Bz]}),i})(),Zn=(()=>{class i{constructor(t){this.locale=t,this.title="team-manager"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["cp-team-manager-root"]],decls:3,vars:0,consts:[[1,"body-content"],[1,"section","animate-view","ng-cloak"]],template:function(t,n){1&t&&(e._UZ(0,"cp-alert-list"),e.TgZ(1,"div",0),e._UZ(2,"router-outlet",1),e.qZA())},dependencies:[f.lC,r.hF],encapsulation:2}),i})(),Fn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i,bootstrap:[Zn]}),i.\u0275inj=e.cJS({providers:[M,_e,be.a,Y,T,Z,{provide:Oe,useValue:window.PAGE.base},{provide:z,useValue:window.PAGE.userName},{provide:V,useValue:window.PAGE.emailApp},{provide:$,useValue:window.PAGE.ftpApp},{provide:j,useValue:window.PAGE.webDiskApp},{provide:W,useValue:window.PAGE.userManagerApp},{provide:K,useValue:window.PAGE.deprefix},{provide:X,useValue:window.PAGE.maxTeamUsers},{provide:U,useValue:window.PAGE.teamOwnerDomain},{provide:ee,useValue:window.PAGE.maxEmailQuota},{provide:te,useValue:window.PAGE.defaultEmailQuota},{provide:ne,useValue:window.PAGE.isEmailServiceAvailable},{provide:I,useValue:window.PAGE.ftpDaemonInfo},{provide:ie,useValue:window.PAGE.isWebdiskServiceAvailable},{provide:Window,useValue:window}],imports:[D.b2,fe.PW,l.u5,l.UX,r.wH,y.fx.forRoot(),h.mr.forRoot(),N.kn.forRoot(),he.JF,Un,r.Op,r.kM,H.au,r.t8,r.zr,r.CQ,r.Sw,r.wL,r.RV,r.u3,r.df,r.kx,A.A0,r.gz,r.vs,Ce.m,r.RU]}),i})();(0,e.G48)(),D.q6().bootstrapModule(Fn).catch(i=>console.error(i))}},S=>{S.O(0,[647,534],()=>S(S.s=4624)),S.O()}]);